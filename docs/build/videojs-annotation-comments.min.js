!function i(a,s,r){function o(e,t){if(!s[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=s[e]={exports:{}},a[e][0].call(n.exports,function(t){return o(a[e][1][t]||t)},n,n.exports,i,a,s,r)}return s[e].exports}for(var l="function"==typeof require&&require,t=0;t<r.length;t++)o(r[t]);return o}({1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}n.__esModule=!0;var s=a(t("./handlebars/base")),r=i(t("./handlebars/safe-string")),o=i(t("./handlebars/exception")),l=a(t("./handlebars/utils")),c=a(t("./handlebars/runtime")),t=i(t("./handlebars/no-conflict"));function u(){var e=new s.HandlebarsEnvironment;return l.extend(e,s),e.SafeString=r.default,e.Exception=o.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var h=u();h.create=u,t.default(h),h.default=h,n.default=h,e.exports=n.default},{"./handlebars/base":2,"./handlebars/exception":5,"./handlebars/no-conflict":18,"./handlebars/runtime":19,"./handlebars/safe-string":20,"./handlebars/utils":21}],2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.HandlebarsEnvironment=h;var a=t("./utils"),s=i(t("./exception")),r=t("./helpers"),o=t("./decorators"),l=i(t("./logger")),c=t("./internal/proto-access"),u=(n.VERSION="4.7.7",n.COMPILER_REVISION=8,n.LAST_COMPATIBLE_COMPILER_REVISION=7,n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"},"[object Object]");function h(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},r.registerDefaultHelpers(this),o.registerDefaultDecorators(this)}h.prototype={constructor:h,logger:l.default,log:l.default.log,registerHelper:function(t,e){if(a.toString.call(t)===u){if(e)throw new s.default("Arg not supported with multiple helpers");a.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(a.toString.call(t)===u)a.extend(this.partials,t);else{if(void 0===e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(a.toString.call(t)===u){if(e)throw new s.default("Arg not supported with multiple decorators");a.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};t=l.default.log;n.log=t,n.createFrame=a.createFrame,n.logger=l.default},{"./decorators":3,"./exception":5,"./helpers":6,"./internal/proto-access":15,"./logger":17,"./utils":21}],3:[function(t,e,n){"use strict";n.__esModule=!0,n.registerDefaultDecorators=function(t){i.default(t)};var n=t("./decorators/inline"),i=(t=n)&&t.__esModule?t:{default:t}},{"./decorators/inline":4}],4:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("../utils");n.default=function(t){t.registerDecorator("inline",function(i,a,s,t){var e=i;return a.partials||(a.partials={},e=function(t,e){var n=s.partials,t=(s.partials=r.extend({},n,a.partials),i(t,e));return s.partials=n,t}),a.partials[t.args[0]]=t.fn,e})},e.exports=n.default},{"../utils":21}],5:[function(t,e,n){"use strict";n.__esModule=!0;var l=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function c(t,e){for(var e=e&&e.loc,n=void 0,i=void 0,a=void 0,s=void 0,r=(e&&(n=e.start.line,i=e.end.line,a=e.start.column,s=e.end.column,t+=" - "+n+":"+a),Error.prototype.constructor.call(this,t)),o=0;o<l.length;o++)this[l[o]]=r[l[o]];Error.captureStackTrace&&Error.captureStackTrace(this,c);try{e&&(this.lineNumber=n,this.endLineNumber=i,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:s,enumerable:!0})):(this.column=a,this.endColumn=s))}catch(t){}}c.prototype=new Error,n.default=c,e.exports=n.default},{}],6:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.registerDefaultHelpers=function(t){a.default(t),s.default(t),r.default(t),o.default(t),l.default(t),c.default(t),u.default(t)},n.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var a=i(t("./helpers/block-helper-missing")),s=i(t("./helpers/each")),r=i(t("./helpers/helper-missing")),o=i(t("./helpers/if")),l=i(t("./helpers/log")),c=i(t("./helpers/lookup")),u=i(t("./helpers/with"))},{"./helpers/block-helper-missing":7,"./helpers/each":8,"./helpers/helper-missing":9,"./helpers/if":10,"./helpers/log":11,"./helpers/lookup":12,"./helpers/with":13}],7:[function(t,e,n){"use strict";n.__esModule=!0;var s=t("../utils");n.default=function(a){a.registerHelper("blockHelperMissing",function(t,e){var n=e.inverse,i=e.fn;return!0===t?i(this):!1===t||null==t?n(this):s.isArray(t)?0<t.length?(e.ids&&(e.ids=[e.name]),a.helpers.each(t,e)):n(this):(e.data&&e.ids&&((n=s.createFrame(e.data)).contextPath=s.appendContextPath(e.data.contextPath,e.name),e={data:n}),i(t,e))})},e.exports=n.default},{"../utils":21}],8:[function(e,n,i){!function(v){!function(){"use strict";i.__esModule=!0;var m=e("../utils"),t=e("../exception"),p=(t=t)&&t.__esModule?t:{default:t};i.default=function(t){t.registerHelper("each",function(i,t){if(!t)throw new p.default("Must pass iterator to #each");var e,a=t.fn,n=t.inverse,s=0,r="",o=void 0,l=void 0;function c(t,e,n){o&&(o.key=t,o.index=e,o.first=0===e,o.last=!!n,l&&(o.contextPath=l+t)),r+=a(i[t],{data:o,blockParams:m.blockParams([i[t],t],[l+t,null])})}if(t.data&&t.ids&&(l=m.appendContextPath(t.data.contextPath,t.ids[0])+"."),m.isFunction(i)&&(i=i.call(this)),t.data&&(o=m.createFrame(t.data)),i&&"object"==typeof i)if(m.isArray(i))for(var u=i.length;s<u;s++)s in i&&c(s,s,s===i.length-1);else if(v.Symbol&&i[v.Symbol.iterator]){for(var h=[],d=i[v.Symbol.iterator](),f=d.next();!f.done;f=d.next())h.push(f.value);for(u=(i=h).length;s<u;s++)c(s,s,s===i.length-1)}else e=void 0,Object.keys(i).forEach(function(t){void 0!==e&&c(e,s-1),e=t,s++}),void 0!==e&&c(e,s-1,!0);return r=0===s?n(this):r})},n.exports=i.default}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../exception":5,"../utils":21}],9:[function(t,e,n){"use strict";n.__esModule=!0;var t=t("../exception"),i=(t=t)&&t.__esModule?t:{default:t};n.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=n.default},{"../exception":5}],10:[function(t,e,n){"use strict";n.__esModule=!0;var i=t("../utils"),t=t("../exception"),a=(t=t)&&t.__esModule?t:{default:t};n.default=function(n){n.registerHelper("if",function(t,e){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),n.registerHelper("unless",function(t,e){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return n.helpers.if.call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})})},e.exports=n.default},{"../exception":5,"../utils":21}],11:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(a){a.registerHelper("log",function(){for(var t=[void 0],e=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var i=1;null!=e.hash.level?i=e.hash.level:e.data&&null!=e.data.level&&(i=e.data.level),t[0]=i,a.log.apply(a,t)})},e.exports=n.default},{}],12:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){t.registerHelper("lookup",function(t,e,n){return t&&n.lookupProperty(t,e)})},e.exports=n.default},{}],13:[function(t,e,n){"use strict";n.__esModule=!0;var a=t("../utils"),t=t("../exception"),s=(t=t)&&t.__esModule?t:{default:t};n.default=function(t){t.registerHelper("with",function(t,e){if(2!=arguments.length)throw new s.default("#with requires exactly one argument");a.isFunction(t)&&(t=t.call(this));var n,i=e.fn;return a.isEmpty(t)?e.inverse(this):(n=e.data,e.data&&e.ids&&((n=a.createFrame(e.data)).contextPath=a.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:n,blockParams:a.blockParams([t],[n&&n.contextPath])}))})},e.exports=n.default},{"../exception":5,"../utils":21}],14:[function(t,e,n){"use strict";n.__esModule=!0,n.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.extend.apply(void 0,[Object.create(null)].concat(e))};var i=t("../utils")},{"../utils":21}],15:[function(t,e,n){"use strict";n.__esModule=!0,n.createProtoAccessControl=function(t){var e=Object.create(null),n=(e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1,Object.create(null));return n.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},n.resultIsAllowed=function(t,e,n){return r("function"==typeof t?e.methods:e.properties,n)},n.resetLoggedProperties=function(){Object.keys(s).forEach(function(t){delete s[t]})};var i=t("./create-new-lookup-object"),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../logger")),s=Object.create(null);function r(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(!0!==s[t=e]&&(s[t]=!0,a.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details')),!1)}},{"../logger":17,"./create-new-lookup-object":14}],16:[function(t,e,n){"use strict";n.__esModule=!0,n.wrapHelper=function(e,n){return"function"==typeof e?function(){var t=arguments[arguments.length-1];return arguments[arguments.length-1]=n(t),e.apply(this,arguments)}:e}},{}],17:[function(t,e,n){"use strict";n.__esModule=!0;var i=t("./utils"),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){var e;return t="string"==typeof t?0<=(e=i.indexOf(a.methodMap,t.toLowerCase()))?e:parseInt(t,10):t},log:function(t){if(t=a.lookupLevel(t),"undefined"!=typeof console&&a.lookupLevel(a.level)<=t){t=a.methodMap[t];console[t]||(t="log");for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];console[t].apply(console,n)}}};n.default=a,e.exports=n.default},{"./utils":21}],18:[function(t,e,n){!function(i){!function(){"use strict";n.__esModule=!0,n.default=function(t){var e=void 0!==i?i:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},e.exports=n.default}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,n){"use strict";n.__esModule=!0,n.checkRevision=function(t){var e=t&&t[0]||1,n=d.COMPILER_REVISION;if(!(e>=d.LAST_COMPATIBLE_COMPILER_REVISION&&e<=d.COMPILER_REVISION))throw e<d.LAST_COMPATIBLE_COMPILER_REVISION?(n=d.REVISION_CHANGES[n],e=d.REVISION_CHANGES[e],new h.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+e+").")):new h.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},n.template=function(l,c){if(!c)throw new h.default("No environment passed to template");if(!l||!l.main)throw new h.default("Unknown template object: "+typeof l);l.main.decorator=l.main_d,c.VM.checkRevision(l.compiler);var n=l.compiler&&7===l.compiler[0];var r={strict:function(t,e,n){if(t&&e in t)return r.lookupProperty(t,e);throw new h.default('"'+e+'" not defined in '+t,{loc:n})},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||m.resultIsAllowed(n,r.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(null!=(t[i]&&r.lookupProperty(t[i],e)))return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:u.escapeExpression,invokePartial:function(t,e,n){n.hash&&(e=u.extend({},e,n.hash),n.ids&&(n.ids[0]=!0)),t=c.VM.resolvePartial.call(this,t,e,n);var i=u.extend({},n,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),a=c.VM.invokePartial.call(this,t,e,i);if(null==a&&c.compile&&(n.partials[n.name]=c.compile(t,l.compilerOptions,c),a=n.partials[n.name](e,i)),null==a)throw new h.default("The partial "+n.name+" could not be compiled when running in runtime-only mode");if(n.indent){for(var s=a.split("\n"),r=0,o=s.length;r<o&&(s[r]||r+1!==o);r++)s[r]=n.indent+s[r];a=s.join("\n")}return a},fn:function(t){var e=l[t];return e.decorator=l[t+"_d"],e},programs:[],program:function(t,e,n,i,a){var s=this.programs[t],r=this.fn(t);return s=e||a||i||n?p(this,t,r,e,n,i,a):s||(this.programs[t]=p(this,t,r))},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return n=t&&e&&t!==e?u.extend({},e,t):n},nullContext:Object.seal({}),noop:c.VM.noop,compilerInfo:l.compiler};function o(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.data,i=(o._setup(e),!e.partial&&l.useData&&(n=function(t,e){e&&"root"in e||((e=e?d.createFrame(e):{}).root=t);return e}(t,n)),void 0),a=l.useBlockParams?[]:void 0;function s(t){return""+l.main(r,t,r.helpers,r.partials,n,a,i)}return l.useDepths&&(i=e.depths?t!=e.depths[0]?[t].concat(e.depths):e.depths:[t]),(s=v(l.main,s,r,e.depths||[],n,a))(t,e)}return o.isTop=!0,o._setup=function(t){var e,i,a;t.partial?(r.protoAccessControl=t.protoAccessControl,r.helpers=t.helpers,r.partials=t.partials,r.decorators=t.decorators,r.hooks=t.hooks):(e=u.extend({},c.helpers,t.helpers),i=e,a=r,Object.keys(i).forEach(function(t){var e,n=i[t];i[t]=(e=a.lookupProperty,f.wrapHelper(n,function(t){return u.extend({lookupProperty:e},t)}))}),r.helpers=e,l.usePartial&&(r.partials=r.mergeIfNeeded(t.partials,c.partials)),(l.usePartial||l.useDecorators)&&(r.decorators=u.extend({},c.decorators,t.decorators)),r.hooks={},r.protoAccessControl=m.createProtoAccessControl(t),e=t.allowCallsToHelperMissing||n,s.moveHelperToHooks(r,"helperMissing",e),s.moveHelperToHooks(r,"blockHelperMissing",e))},o._child=function(t,e,n,i){if(l.useBlockParams&&!n)throw new h.default("must pass block params");if(l.useDepths&&!i)throw new h.default("must pass parent depths");return p(r,t,l[t],e,0,n,i)},o},n.wrapProgram=p,n.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},n.invokePartial=function(t,e,i){var a=i.data&&i.data["partial-block"];i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var s=void 0;i.fn&&i.fn!==r&&!function(){i.data=d.createFrame(i.data);var n=i.fn;s=i.data["partial-block"]=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e.data=d.createFrame(e.data),e.data["partial-block"]=a,n(t,e)},n.partials&&(i.partials=u.extend({},i.partials,n.partials))}();void 0===t&&s&&(t=s);{if(void 0===t)throw new h.default("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)}},n.noop=r;var u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils")),n=t("./exception"),h=(n=n)&&n.__esModule?n:{default:n},d=t("./base"),s=t("./helpers"),f=t("./internal/wrapHelper"),m=t("./internal/proto-access");function p(i,t,a,s,e,r,o){function n(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=o;return!o||t==o[0]||t===i.nullContext&&null===o[0]||(n=[t].concat(o)),a(i,t,i.helpers,i.partials,e.data||s,r&&[e.blockParams].concat(r),n)}return(n=v(a,n,i,o,s,r)).program=t,n.depth=o?o.length:0,n.blockParams=e||0,n}function r(){return""}function v(t,e,n,i,a,s){return t.decorator&&(e=t.decorator(e,t={},n,i&&i[0],a,s,i),u.extend(e,t)),e}},{"./base":2,"./exception":5,"./helpers":6,"./internal/proto-access":15,"./internal/wrapHelper":16,"./utils":21}],20:[function(t,e,n){"use strict";function i(t){this.string=t}n.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},n.default=i,e.exports=n.default},{}],21:[function(t,e,n){"use strict";n.__esModule=!0,n.extend=o,n.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},n.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return s.test(t)?t.replace(a,r):t},n.isEmpty=function(t){return!t&&0!==t||!(!u(t)||0!==t.length)},n.createFrame=function(t){var e=o({},t);return e._parent=t,e},n.blockParams=function(t,e){return t.path=e,t},n.appendContextPath=function(t,e){return(t?t+".":"")+e};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},a=/[&<>"'`=]/g,s=/[&<>"'`=]/;function r(t){return i[t]}function o(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var l=Object.prototype.toString,c=(n.toString=l,function(t){return"function"==typeof t}),u=(c(/x/)&&(n.isFunction=c=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),n.isFunction=c,Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)});n.isArray=u},{}],22:[function(t,e,n){e.exports=function(i){return{all:i=i||new Map,on:function(t,e){var n=i.get(t);n?n.push(e):i.set(t,[e])},off:function(t,e){var n=i.get(t);n&&(e?n.splice(n.indexOf(e)>>>0,1):i.set(t,[]))},emit:function(e,n){var t=i.get(e);t&&t.slice().map(function(t){t(n)}),(t=i.get("*"))&&t.slice().map(function(t){t(e,n)})}}}},{}],23:[function(An,Tn,t){var e,n;e=this,n=function(){"use strict";var j;function p(){return j.apply(null,arguments)}function v(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function I(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(d(t,e))return;return 1}function g(t){return void 0===t}function y(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function R(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function H(t,e){for(var n=[],i=t.length,a=0;a<i;++a)n.push(e(t[a],a));return n}function F(t,e){for(var n in e)d(e,n)&&(t[n]=e[n]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,n,i){return Ae(t,e,n,i,!0).utc()}function _(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function W(t){if(null==t._isValid){var e=_(t),n=V.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function U(t){var e=c(NaN);return null!=t?F(_(e),t):_(e).userInvalidated=!0,e}var V=Array.prototype.some||function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1},G=p.momentProperties=[],z=!1;function B(t,e){var n,i,a,s=G.length;if(g(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),g(e._i)||(t._i=e._i),g(e._f)||(t._f=e._f),g(e._l)||(t._l=e._l),g(e._strict)||(t._strict=e._strict),g(e._tzm)||(t._tzm=e._tzm),g(e._isUTC)||(t._isUTC=e._isUTC),g(e._offset)||(t._offset=e._offset),g(e._pf)||(t._pf=_(e)),g(e._locale)||(t._locale=e._locale),0<s)for(n=0;n<s;n++)g(a=e[i=G[n]])||(t[i]=a);return t}function Z(t){B(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===z&&(z=!0,p.updateOffset(this),z=!1)}function w(t){return t instanceof Z||null!=t&&null!=t._isAMomentObject}function q(t){!1===p.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function t(s,r){var o=!0;return F(function(){if(null!=p.deprecationHandler&&p.deprecationHandler(null,s),o){for(var t,e,n=[],i=arguments.length,a=0;a<i;a++){if(t="","object"==typeof arguments[a]){for(e in t+="\n["+a+"] ",arguments[0])d(arguments[0],e)&&(t+=e+": "+arguments[0][e]+", ");t=t.slice(0,-2)}else t=arguments[a];n.push(t)}q(s+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),o=!1}return r.apply(this,arguments)},r)}var X={};function J(t,e){null!=p.deprecationHandler&&p.deprecationHandler(t,e),X[t]||(q(e),X[t]=!0)}function r(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function Q(t,e){var n,i=F({},t);for(n in e)d(e,n)&&(I(t[n])&&I(e[n])?(i[n]={},F(i[n],t[n]),F(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)d(t,n)&&!d(e,n)&&I(t[n])&&(i[n]=F({},i[n]));return i}function K(t){null!=t&&this.set(t)}p.suppressDeprecationWarnings=!1,p.deprecationHandler=null;var tt=Object.keys||function(t){var e,n=[];for(e in t)d(t,e)&&n.push(e);return n};function s(t,e,n){var i=""+Math.abs(t);return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}var et=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,nt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,it={},at={};function i(t,e,n,i){var a="string"==typeof i?function(){return this[i]()}:i;t&&(at[t]=a),e&&(at[e[0]]=function(){return s(a.apply(this,arguments),e[1],e[2])}),n&&(at[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function st(t,e){return t.isValid()?(e=rt(e,t.localeData()),it[e]=it[e]||function(i){for(var t,a=i.match(et),e=0,s=a.length;e<s;e++)at[a[e]]?a[e]=at[a[e]]:a[e]=(t=a[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var e="",n=0;n<s;n++)e+=r(a[n])?a[n].call(t,i):a[n];return e}}(e),it[e](t)):t.localeData().invalidDate()}function rt(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(nt.lastIndex=0;0<=n&&nt.test(t);)t=t.replace(nt,i),nt.lastIndex=0,--n;return t}var ot={};function e(t,e){var n=t.toLowerCase();ot[n]=ot[n+"s"]=ot[e]=t}function o(t){return"string"==typeof t?ot[t]||ot[t.toLowerCase()]:void 0}function lt(t){var e,n,i={};for(n in t)d(t,n)&&(e=o(n))&&(i[e]=t[n]);return i}var ct={};function n(t,e){ct[t]=e}function ut(t){return t%4==0&&t%100!=0||t%400==0}function h(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function u(t){var t=+t,e=0;return e=0!=t&&isFinite(t)?h(t):e}function ht(e,n){return function(t){return null!=t?(ft(this,e,t),p.updateOffset(this,n),this):dt(this,e)}}function dt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function ft(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&ut(t.year())&&1===t.month()&&29===t.date()?(n=u(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Nt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var a=/\d/,l=/\d\d/,mt=/\d{3}/,pt=/\d{4}/,vt=/[+-]?\d{6}/,f=/\d\d?/,gt=/\d\d\d\d?/,yt=/\d\d\d\d\d\d?/,_t=/\d{1,3}/,wt=/\d{1,4}/,bt=/[+-]?\d{1,6}/,kt=/\d+/,St=/[+-]?\d+/,Mt=/Z|[+-]\d\d:?\d\d/gi,Ot=/Z|[+-]\d\d(?::?\d\d)?/gi,m=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function b(t,n,i){Dt[t]=r(n)?n:function(t,e){return t&&i?i:n}}function xt(t,e){return d(Dt,t)?Dt[t](e._strict,e._locale):new RegExp(k(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,a){return e||n||i||a})))}function k(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Dt={},Ct={};function S(t,n){var e,i,a=n;for("string"==typeof t&&(t=[t]),y(n)&&(a=function(t,e){e[n]=u(t)}),i=t.length,e=0;e<i;e++)Ct[t[e]]=a}function Yt(t,a){S(t,function(t,e,n,i){n._w=n._w||{},a(t,n._w,n,i)})}var M,O=0,x=1,D=2,C=3,Y=4,P=5,Pt=6,At=7,Tt=8;function Nt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%(n=12)+n)%n;return t+=(e-n)/12,1==n?ut(t)?29:28:31-n%7%2}M=Array.prototype.indexOf||function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},i("M",["MM",2],"Mo",function(){return this.month()+1}),i("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),i("MMMM",0,0,function(t){return this.localeData().months(this,t)}),e("month","M"),n("month",8),b("M",f),b("MM",f,l),b("MMM",function(t,e){return e.monthsShortRegex(t)}),b("MMMM",function(t,e){return e.monthsRegex(t)}),S(["M","MM"],function(t,e){e[x]=u(t)-1}),S(["MMM","MMMM"],function(t,e,n,i){i=n._locale.monthsParse(t,i,n._strict);null!=i?e[x]=i:_(n).invalidMonth=t});var Et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Lt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),jt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,It=m,$t=m;function Rt(t,e){var n;if(t.isValid()){if("string"==typeof e)if(/^\d+$/.test(e))e=u(e);else if(!y(e=t.localeData().monthsParse(e)))return;n=Math.min(t.date(),Nt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n)}}function Ht(t){return null!=t?(Rt(this,t),p.updateOffset(this,!0),this):dt(this,"Month")}function Ft(){function t(t,e){return e.length-t.length}for(var e,n=[],i=[],a=[],s=0;s<12;s++)e=c([2e3,s]),n.push(this.monthsShort(e,"")),i.push(this.months(e,"")),a.push(this.months(e,"")),a.push(this.monthsShort(e,""));for(n.sort(t),i.sort(t),a.sort(t),s=0;s<12;s++)n[s]=k(n[s]),i[s]=k(i[s]);for(s=0;s<24;s++)a[s]=k(a[s]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Wt(t){return ut(t)?366:365}i("Y",0,0,function(){var t=this.year();return t<=9999?s(t,4):"+"+t}),i(0,["YY",2],0,function(){return this.year()%100}),i(0,["YYYY",4],0,"year"),i(0,["YYYYY",5],0,"year"),i(0,["YYYYYY",6,!0],0,"year"),e("year","y"),n("year",1),b("Y",St),b("YY",f,l),b("YYYY",wt,pt),b("YYYYY",bt,vt),b("YYYYYY",bt,vt),S(["YYYYY","YYYYYY"],O),S("YYYY",function(t,e){e[O]=2===t.length?p.parseTwoDigitYear(t):u(t)}),S("YY",function(t,e){e[O]=p.parseTwoDigitYear(t)}),S("Y",function(t,e){e[O]=parseInt(t,10)}),p.parseTwoDigitYear=function(t){return u(t)+(68<u(t)?1900:2e3)};var Ut=ht("FullYear",!0);function Vt(t,e,n,i,a,s,r){var o;return t<100&&0<=t?(o=new Date(t+400,e,n,i,a,s,r),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,n,i,a,s,r),o}function Gt(t){var e;return t<100&&0<=t?((e=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,e)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function zt(t,e,n){n=7+e-n;return n-(7+Gt(t,0,n).getUTCDay()-e)%7-1}function Bt(t,e,n,i,a){var s,e=1+7*(e-1)+(7+n-i)%7+zt(t,i,a),n=e<=0?Wt(s=t-1)+e:e>Wt(t)?(s=t+1,e-Wt(t)):(s=t,e);return{year:s,dayOfYear:n}}function Zt(t,e,n){var i,a,s=zt(t.year(),e,n),s=Math.floor((t.dayOfYear()-s-1)/7)+1;return s<1?i=s+A(a=t.year()-1,e,n):s>A(t.year(),e,n)?(i=s-A(t.year(),e,n),a=t.year()+1):(a=t.year(),i=s),{week:i,year:a}}function A(t,e,n){var i=zt(t,e,n),e=zt(t+1,e,n);return(Wt(t)-i+e)/7}i("w",["ww",2],"wo","week"),i("W",["WW",2],"Wo","isoWeek"),e("week","w"),e("isoWeek","W"),n("week",5),n("isoWeek",5),b("w",f),b("ww",f,l),b("W",f),b("WW",f,l),Yt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=u(t)});function qt(t,e){return t.slice(e,7).concat(t.slice(0,e))}i("d",0,"do","day"),i("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),i("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),i("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),i("e",0,0,"weekday"),i("E",0,0,"isoWeekday"),e("day","d"),e("weekday","e"),e("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),b("d",f),b("e",f),b("E",f),b("dd",function(t,e){return e.weekdaysMinRegex(t)}),b("ddd",function(t,e){return e.weekdaysShortRegex(t)}),b("dddd",function(t,e){return e.weekdaysRegex(t)}),Yt(["dd","ddd","dddd"],function(t,e,n,i){i=n._locale.weekdaysParse(t,i,n._strict);null!=i?e.d=i:_(n).invalidWeekday=t}),Yt(["d","e","E"],function(t,e,n,i){e[i]=u(t)});var Xt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Kt=m,te=m,ee=m;function ne(){function t(t,e){return e.length-t.length}for(var e,n,i,a=[],s=[],r=[],o=[],l=0;l<7;l++)i=c([2e3,1]).day(l),e=k(this.weekdaysMin(i,"")),n=k(this.weekdaysShort(i,"")),i=k(this.weekdays(i,"")),a.push(e),s.push(n),r.push(i),o.push(e),o.push(n),o.push(i);a.sort(t),s.sort(t),r.sort(t),o.sort(t),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ie(){return this.hours()%12||12}function ae(t,e){i(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function se(t,e){return e._meridiemParse}i("H",["HH",2],0,"hour"),i("h",["hh",2],0,ie),i("k",["kk",2],0,function(){return this.hours()||24}),i("hmm",0,0,function(){return""+ie.apply(this)+s(this.minutes(),2)}),i("hmmss",0,0,function(){return""+ie.apply(this)+s(this.minutes(),2)+s(this.seconds(),2)}),i("Hmm",0,0,function(){return""+this.hours()+s(this.minutes(),2)}),i("Hmmss",0,0,function(){return""+this.hours()+s(this.minutes(),2)+s(this.seconds(),2)}),ae("a",!0),ae("A",!1),e("hour","h"),n("hour",13),b("a",se),b("A",se),b("H",f),b("h",f),b("k",f),b("HH",f,l),b("hh",f,l),b("kk",f,l),b("hmm",gt),b("hmmss",yt),b("Hmm",gt),b("Hmmss",yt),S(["H","HH"],C),S(["k","kk"],function(t,e,n){t=u(t);e[C]=24===t?0:t}),S(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),S(["h","hh"],function(t,e,n){e[C]=u(t),_(n).bigHour=!0}),S("hmm",function(t,e,n){var i=t.length-2;e[C]=u(t.substr(0,i)),e[Y]=u(t.substr(i)),_(n).bigHour=!0}),S("hmmss",function(t,e,n){var i=t.length-4,a=t.length-2;e[C]=u(t.substr(0,i)),e[Y]=u(t.substr(i,2)),e[P]=u(t.substr(a)),_(n).bigHour=!0}),S("Hmm",function(t,e,n){var i=t.length-2;e[C]=u(t.substr(0,i)),e[Y]=u(t.substr(i))}),S("Hmmss",function(t,e,n){var i=t.length-4,a=t.length-2;e[C]=u(t.substr(0,i)),e[Y]=u(t.substr(i,2)),e[P]=u(t.substr(a))});m=ht("Hours",!0);var re,oe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Et,monthsShort:Lt,week:{dow:0,doy:6},weekdays:Xt,weekdaysMin:Qt,weekdaysShort:Jt,meridiemParse:/[ap]\.?m?\.?/i},T={},le={};function ce(t){return t&&t.toLowerCase().replace("_","-")}function ue(t){for(var e,n,i,a,s=0;s<t.length;){for(e=(a=ce(t[s]).split("-")).length,n=(n=ce(t[s+1]))?n.split("-"):null;0<e;){if(i=he(a.slice(0,e).join("-")))return i;if(n&&n.length>=e&&function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i+=1)if(t[i]!==e[i])return i;return n}(a,n)>=e-1)break;e--}s++}return re}function he(e){var t;if(void 0===T[e]&&void 0!==Tn&&Tn&&Tn.exports&&null!=e.match("^[^/\\\\]*$"))try{t=re._abbr,An("./locale/"+e),de(t)}catch(t){T[e]=null}return T[e]}function de(t,e){return t&&((e=g(e)?me(t):fe(t,e))?re=e:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),re._abbr}function fe(t,e){if(null===e)return delete T[t],null;var n,i=oe;if(e.abbr=t,null!=T[t])J("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=T[t]._config;else if(null!=e.parentLocale)if(null!=T[e.parentLocale])i=T[e.parentLocale]._config;else{if(null==(n=he(e.parentLocale)))return le[e.parentLocale]||(le[e.parentLocale]=[]),le[e.parentLocale].push({name:t,config:e}),null;i=n._config}return T[t]=new K(Q(i,e)),le[t]&&le[t].forEach(function(t){fe(t.name,t.config)}),de(t),T[t]}function me(t){var e;if(!(t=t&&t._locale&&t._locale._abbr?t._locale._abbr:t))return re;if(!v(t)){if(e=he(t))return e;t=[t]}return ue(t)}function pe(t){var e=t._a;return e&&-2===_(t).overflow&&(e=e[x]<0||11<e[x]?x:e[D]<1||e[D]>Nt(e[O],e[x])?D:e[C]<0||24<e[C]||24===e[C]&&(0!==e[Y]||0!==e[P]||0!==e[Pt])?C:e[Y]<0||59<e[Y]?Y:e[P]<0||59<e[P]?P:e[Pt]<0||999<e[Pt]?Pt:-1,_(t)._overflowDayOfYear&&(e<O||D<e)&&(e=D),_(t)._overflowWeeks&&-1===e&&(e=At),_(t)._overflowWeekday&&-1===e&&(e=Tt),_(t).overflow=e),t}var ve=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ye=/Z|[+-]\d\d(?::?\d\d)?/,_e=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],we=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],be=/^\/?Date\((-?\d+)/i,ke=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Se={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Me(t){var e,n,i,a,s,r,o=t._i,l=ve.exec(o)||ge.exec(o),o=_e.length,c=we.length;if(l){for(_(t).iso=!0,e=0,n=o;e<n;e++)if(_e[e][1].exec(l[1])){a=_e[e][0],i=!1!==_e[e][2];break}if(null==a)t._isValid=!1;else{if(l[3]){for(e=0,n=c;e<n;e++)if(we[e][1].exec(l[3])){s=(l[2]||" ")+we[e][0];break}if(null==s)return void(t._isValid=!1)}if(i||null==s){if(l[4]){if(!ye.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=a+(s||"")+(r||""),Ye(t)}else t._isValid=!1}}else t._isValid=!1}function Oe(t,e,n,i,a,s){t=[function(t){t=parseInt(t,10);{if(t<=49)return 2e3+t;if(t<=999)return 1900+t}return t}(t),Lt.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(a,10)];return s&&t.push(parseInt(s,10)),t}function xe(t){var e,n,i=ke.exec(t._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));i?(e=Oe(i[4],i[3],i[2],i[5],i[6],i[7]),function(t,e,n){if(!t||Jt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay())return 1;_(n).weekdayMismatch=!0,n._isValid=!1}(i[1],e,t)&&(t._a=e,t._tzm=(e=i[8],n=i[9],i=i[10],e?Se[e]:n?0:60*(((e=parseInt(i,10))-(n=e%100))/100)+n),t._d=Gt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),_(t).rfc2822=!0)):t._isValid=!1}function De(t,e,n){return null!=t?t:null!=e?e:n}function Ce(t){var e,n,i,a,s,r,o,l,c,u,h,d=[];if(!t._d){for(i=t,a=new Date(p.now()),n=i._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()],t._w&&null==t._a[D]&&null==t._a[x]&&(null!=(a=(i=t)._w).GG||null!=a.W||null!=a.E?(l=1,c=4,s=De(a.GG,i._a[O],Zt(N(),1,4).year),r=De(a.W,1),((o=De(a.E,1))<1||7<o)&&(u=!0)):(l=i._locale._week.dow,c=i._locale._week.doy,h=Zt(N(),l,c),s=De(a.gg,i._a[O],h.year),r=De(a.w,h.week),null!=a.d?((o=a.d)<0||6<o)&&(u=!0):null!=a.e?(o=a.e+l,(a.e<0||6<a.e)&&(u=!0)):o=l),r<1||r>A(s,l,c)?_(i)._overflowWeeks=!0:null!=u?_(i)._overflowWeekday=!0:(h=Bt(s,r,o,l,c),i._a[O]=h.year,i._dayOfYear=h.dayOfYear)),null!=t._dayOfYear&&(a=De(t._a[O],n[O]),(t._dayOfYear>Wt(a)||0===t._dayOfYear)&&(_(t)._overflowDayOfYear=!0),u=Gt(a,0,t._dayOfYear),t._a[x]=u.getUTCMonth(),t._a[D]=u.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=d[e]=n[e];for(;e<7;e++)t._a[e]=d[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[C]&&0===t._a[Y]&&0===t._a[P]&&0===t._a[Pt]&&(t._nextDay=!0,t._a[C]=0),t._d=(t._useUTC?Gt:Vt).apply(null,d),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[C]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(_(t).weekdayMismatch=!0)}}function Ye(t){if(t._f===p.ISO_8601)Me(t);else if(t._f===p.RFC_2822)xe(t);else{t._a=[],_(t).empty=!0;for(var e,n,i,a,s,r=""+t._i,o=r.length,l=0,c=rt(t._f,t._locale).match(et)||[],u=c.length,h=0;h<u;h++)n=c[h],(e=(r.match(xt(n,t))||[])[0])&&(0<(i=r.substr(0,r.indexOf(e))).length&&_(t).unusedInput.push(i),r=r.slice(r.indexOf(e)+e.length),l+=e.length),at[n]?(e?_(t).empty=!1:_(t).unusedTokens.push(n),i=n,s=t,null!=(a=e)&&d(Ct,i)&&Ct[i](a,s._a,s,i)):t._strict&&!e&&_(t).unusedTokens.push(n);_(t).charsLeftOver=o-l,0<r.length&&_(t).unusedInput.push(r),t._a[C]<=12&&!0===_(t).bigHour&&0<t._a[C]&&(_(t).bigHour=void 0),_(t).parsedDateParts=t._a.slice(0),_(t).meridiem=t._meridiem,t._a[C]=function(t,e,n){if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((t=t.isPM(n))&&e<12&&(e+=12),e=t||12!==e?e:0):e}(t._locale,t._a[C],t._meridiem),null!==(o=_(t).era)&&(t._a[O]=t._locale.erasConvertYear(o,t._a[O])),Ce(t),pe(t)}}function Pe(t){var e,n,i,a=t._i,s=t._f;if(t._locale=t._locale||me(t._l),null===a||void 0===s&&""===a)return U({nullInput:!0});if("string"==typeof a&&(t._i=a=t._locale.preparse(a)),w(a))return new Z(pe(a));if(R(a))t._d=a;else if(v(s)){var r,o,l,c,u,h,d=t,f=!1,m=d._f.length;if(0===m)_(d).invalidFormat=!0,d._d=new Date(NaN);else{for(c=0;c<m;c++)u=0,h=!1,r=B({},d),null!=d._useUTC&&(r._useUTC=d._useUTC),r._f=d._f[c],Ye(r),W(r)&&(h=!0),u=(u+=_(r).charsLeftOver)+10*_(r).unusedTokens.length,_(r).score=u,f?u<l&&(l=u,o=r):(null==l||u<l||h)&&(l=u,o=r,h&&(f=!0));F(d,o||r)}}else if(s)Ye(t);else if(g(s=(a=t)._i))a._d=new Date(p.now());else R(s)?a._d=new Date(s.valueOf()):"string"==typeof s?(n=a,null!==(e=be.exec(n._i))?n._d=new Date(+e[1]):(Me(n),!1===n._isValid&&(delete n._isValid,xe(n),!1===n._isValid&&(delete n._isValid,n._strict?n._isValid=!1:p.createFromInputFallback(n))))):v(s)?(a._a=H(s.slice(0),function(t){return parseInt(t,10)}),Ce(a)):I(s)?(e=a)._d||(i=void 0===(n=lt(e._i)).day?n.date:n.day,e._a=H([n.year,n.month,i,n.hour,n.minute,n.second,n.millisecond],function(t){return t&&parseInt(t,10)}),Ce(e)):y(s)?a._d=new Date(s):p.createFromInputFallback(a);return W(t)||(t._d=null),t}function Ae(t,e,n,i,a){var s={};return!0!==e&&!1!==e||(i=e,e=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(I(t)&&$(t)||v(t)&&0===t.length)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=n,s._i=t,s._f=e,s._strict=i,(a=new Z(pe(Pe(a=s))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function N(t,e,n,i){return Ae(t,e,n,i,!1)}p.createFromInputFallback=t("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),p.ISO_8601=function(){},p.RFC_2822=function(){};gt=t("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=N.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:U()}),yt=t("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=N.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:U()});function Te(t,e){var n,i;if(!(e=1===e.length&&v(e[0])?e[0]:e).length)return N();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}var Ne=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ee(t){var t=lt(t),e=t.year||0,n=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,r=t.hour||0,o=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=function(t){var e,n,i=!1,a=Ne.length;for(e in t)if(d(t,e)&&(-1===M.call(Ne,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<a;++n)if(t[Ne[n]]){if(i)return!1;parseFloat(t[Ne[n]])!==u(t[Ne[n]])&&(i=!0)}return!0}(t),this._milliseconds=+c+1e3*l+6e4*o+1e3*r*60*60,this._days=+s+7*a,this._months=+i+3*n+12*e,this._data={},this._locale=me(),this._bubble()}function Le(t){return t instanceof Ee}function je(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,n){i(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+s(~~(t/60),2)+n+s(~~t%60,2)})}Ie("Z",":"),Ie("ZZ",""),b("Z",Ot),b("ZZ",Ot),S(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Re(Ot,t)});var $e=/([\+\-]|\d\d)/gi;function Re(t,e){var e=(e||"").match(t);return null===e?null:0===(e=60*(t=((e[e.length-1]||[])+"").match($e)||["-",0,0])[1]+u(t[2]))?0:"+"===t[0]?e:-e}function He(t,e){var n;return e._isUTC?(e=e.clone(),n=(w(t)||R(t)?t:N(t)).valueOf()-e.valueOf(),e._d.setTime(e._d.valueOf()+n),p.updateOffset(e,!1),e):N(t).local()}function Fe(t){return-Math.round(t._d.getTimezoneOffset())}function We(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}p.updateOffset=function(){};var Ue=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ve=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function E(t,e){var n,i=t,a=null;return Le(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:y(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(a=Ue.exec(t))?(n="-"===a[1]?-1:1,i={y:0,d:u(a[D])*n,h:u(a[C])*n,m:u(a[Y])*n,s:u(a[P])*n,ms:u(je(1e3*a[Pt]))*n}):(a=Ve.exec(t))?(n="-"===a[1]?-1:1,i={y:Ge(a[2],n),M:Ge(a[3],n),w:Ge(a[4],n),d:Ge(a[5],n),h:Ge(a[6],n),m:Ge(a[7],n),s:Ge(a[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(e=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=He(e,t),t.isBefore(e)?n=ze(t,e):((n=ze(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(N(i.from),N(i.to)),(i={}).ms=e.milliseconds,i.M=e.months),a=new Ee(i),Le(t)&&d(t,"_locale")&&(a._locale=t._locale),Le(t)&&d(t,"_isValid")&&(a._isValid=t._isValid),a}function Ge(t,e){t=t&&parseFloat(t.replace(",","."));return(isNaN(t)?0:t)*e}function ze(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Be(i,a){return function(t,e){var n;return null===e||isNaN(+e)||(J(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Ze(this,E(t,e),i),this}}function Ze(t,e,n,i){var a=e._milliseconds,s=je(e._days),e=je(e._months);t.isValid()&&(i=null==i||i,e&&Rt(t,dt(t,"Month")+e*n),s&&ft(t,"Date",dt(t,"Date")+s*n),a&&t._d.setTime(t._d.valueOf()+a*n),i&&p.updateOffset(t,s||e))}E.fn=Ee.prototype,E.invalid=function(){return E(NaN)};Et=Be(1,"add"),Xt=Be(-1,"subtract");function qe(t){return"string"==typeof t||t instanceof String}function Xe(t){return w(t)||R(t)||qe(t)||y(t)||function(e){var t=v(e),n=!1;t&&(n=0===e.filter(function(t){return!y(t)&&qe(e)}).length);return t&&n}(t)||function(t){var e,n,i=I(t)&&!$(t),a=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r=s.length;for(e=0;e<r;e+=1)n=s[e],a=a||d(t,n);return i&&a}(t)||null==t}function Je(t,e){if(t.date()<e.date())return-Je(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months"),e=e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(1+n,"months")-i);return-(n+e)||0}function Qe(t){return void 0===t?this._locale._abbr:(null!=(t=me(t))&&(this._locale=t),this)}p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",p.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Qt=t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Ke(){return this._locale}var tn=126227808e5;function en(t,e){return(t%e+e)%e}function nn(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-tn:new Date(t,e,n).valueOf()}function an(t,e,n){return t<100&&0<=t?Date.UTC(t+400,e,n)-tn:Date.UTC(t,e,n)}function sn(t,e){return e.erasAbbrRegex(t)}function rn(){for(var t=[],e=[],n=[],i=[],a=this.eras(),s=0,r=a.length;s<r;++s)e.push(k(a[s].name)),t.push(k(a[s].abbr)),n.push(k(a[s].narrow)),i.push(k(a[s].name)),i.push(k(a[s].abbr)),i.push(k(a[s].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function on(t,e){i(0,[t,t.length],0,e)}function ln(t,e,n,i,a){var s;return null==t?Zt(this,i,a).year:(s=A(t,i,a),function(t,e,n,i,a){t=Bt(t,e,n,i,a),e=Gt(t.year,0,t.dayOfYear);return this.year(e.getUTCFullYear()),this.month(e.getUTCMonth()),this.date(e.getUTCDate()),this}.call(this,t,e=s<e?s:e,n,i,a))}i("N",0,0,"eraAbbr"),i("NN",0,0,"eraAbbr"),i("NNN",0,0,"eraAbbr"),i("NNNN",0,0,"eraName"),i("NNNNN",0,0,"eraNarrow"),i("y",["y",1],"yo","eraYear"),i("y",["yy",2],0,"eraYear"),i("y",["yyy",3],0,"eraYear"),i("y",["yyyy",4],0,"eraYear"),b("N",sn),b("NN",sn),b("NNN",sn),b("NNNN",function(t,e){return e.erasNameRegex(t)}),b("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),S(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){i=n._locale.erasParse(t,i,n._strict);i?_(n).era=i:_(n).invalidEra=t}),b("y",kt),b("yy",kt),b("yyy",kt),b("yyyy",kt),b("yo",function(t,e){return e._eraYearOrdinalRegex||kt}),S(["y","yy","yyy","yyyy"],O),S(["yo"],function(t,e,n,i){var a;n._locale._eraYearOrdinalRegex&&(a=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[O]=n._locale.eraYearOrdinalParse(t,a):e[O]=parseInt(t,10)}),i(0,["gg",2],0,function(){return this.weekYear()%100}),i(0,["GG",2],0,function(){return this.isoWeekYear()%100}),on("gggg","weekYear"),on("ggggg","weekYear"),on("GGGG","isoWeekYear"),on("GGGGG","isoWeekYear"),e("weekYear","gg"),e("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),b("G",St),b("g",St),b("GG",f,l),b("gg",f,l),b("GGGG",wt,pt),b("gggg",wt,pt),b("GGGGG",bt,vt),b("ggggg",bt,vt),Yt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=u(t)}),Yt(["gg","GG"],function(t,e,n,i){e[i]=p.parseTwoDigitYear(t)}),i("Q",0,"Qo","quarter"),e("quarter","Q"),n("quarter",7),b("Q",a),S("Q",function(t,e){e[x]=3*(u(t)-1)}),i("D",["DD",2],"Do","date"),e("date","D"),n("date",9),b("D",f),b("DD",f,l),b("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),S(["D","DD"],D),S("Do",function(t,e){e[D]=u(t.match(f)[0])});wt=ht("Date",!0);i("DDD",["DDDD",3],"DDDo","dayOfYear"),e("dayOfYear","DDD"),n("dayOfYear",4),b("DDD",_t),b("DDDD",mt),S(["DDD","DDDD"],function(t,e,n){n._dayOfYear=u(t)}),i("m",["mm",2],0,"minute"),e("minute","m"),n("minute",14),b("m",f),b("mm",f,l),S(["m","mm"],Y);var cn,pt=ht("Minutes",!1),bt=(i("s",["ss",2],0,"second"),e("second","s"),n("second",15),b("s",f),b("ss",f,l),S(["s","ss"],P),ht("Seconds",!1));for(i("S",0,0,function(){return~~(this.millisecond()/100)}),i(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),i(0,["SSS",3],0,"millisecond"),i(0,["SSSS",4],0,function(){return 10*this.millisecond()}),i(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),i(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),i(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),i(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),i(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),e("millisecond","ms"),n("millisecond",16),b("S",_t,a),b("SS",_t,l),b("SSS",_t,mt),cn="SSSS";cn.length<=9;cn+="S")b(cn,kt);function un(t,e){e[Pt]=u(1e3*("0."+t))}for(cn="S";cn.length<=9;cn+="S")S(cn,un);vt=ht("Milliseconds",!1),i("z",0,0,"zoneAbbr"),i("zz",0,0,"zoneName");a=Z.prototype;function hn(t){return t}a.add=Et,a.calendar=function(t,e){1===arguments.length&&(arguments[0]?Xe(arguments[0])?(t=arguments[0],e=void 0):function(t){for(var e=I(t)&&!$(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a=0;a<i.length;a+=1)n=n||d(t,i[a]);return e&&n}(arguments[0])&&(e=arguments[0],t=void 0):e=t=void 0);var t=t||N(),n=He(t,this).startOf("day"),n=p.calendarFormat(this,n)||"sameElse",e=e&&(r(e[n])?e[n].call(this,t):e[n]);return this.format(e||this.localeData().calendar(n,this,N(t)))},a.clone=function(){return new Z(this)},a.diff=function(t,e,n){var i,a,s;if(!this.isValid())return NaN;if(!(i=He(t,this)).isValid())return NaN;switch(a=6e4*(i.utcOffset()-this.utcOffset()),e=o(e)){case"year":s=Je(this,i)/12;break;case"month":s=Je(this,i);break;case"quarter":s=Je(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-a)/864e5;break;case"week":s=(this-i-a)/6048e5;break;default:s=this-i}return n?s:h(s)},a.endOf=function(t){var e,n;if(void 0!==(t=o(t))&&"millisecond"!==t&&this.isValid()){switch(n=this._isUTC?an:nn,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-en(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-en(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-en(e,1e3)-1}this._d.setTime(e),p.updateOffset(this,!0)}return this},a.format=function(t){return t=t||(this.isUtc()?p.defaultFormatUtc:p.defaultFormat),t=st(this,t),this.localeData().postformat(t)},a.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||N(t).isValid())?E({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},a.fromNow=function(t){return this.from(N(),t)},a.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||N(t).isValid())?E({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},a.toNow=function(t){return this.to(N(),t)},a.get=function(t){return r(this[t=o(t)])?this[t]():this},a.invalidAt=function(){return _(this).overflow},a.isAfter=function(t,e){return t=w(t)?t:N(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=o(e)||"millisecond")?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},a.isBefore=function(t,e){return t=w(t)?t:N(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=o(e)||"millisecond")?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},a.isBetween=function(t,e,n,i){return t=w(t)?t:N(t),e=w(e)?e:N(e),!!(this.isValid()&&t.isValid()&&e.isValid())&&(("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n)))},a.isSame=function(t,e){var t=w(t)?t:N(t);return!(!this.isValid()||!t.isValid())&&("millisecond"===(e=o(e)||"millisecond")?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},a.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},a.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},a.isValid=function(){return W(this)},a.lang=Qt,a.locale=Qe,a.localeData=Ke,a.max=yt,a.min=gt,a.parsingFlags=function(){return F({},_(this))},a.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e,n=[];for(e in t)d(t,e)&&n.push({unit:e,priority:ct[e]});return n.sort(function(t,e){return t.priority-e.priority}),n}(t=lt(t)),i=n.length,a=0;a<i;a++)this[n[a].unit](t[n[a].unit]);else if(r(this[t=o(t)]))return this[t](e);return this},a.startOf=function(t){var e,n;if(void 0!==(t=o(t))&&"millisecond"!==t&&this.isValid()){switch(n=this._isUTC?an:nn,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=en(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=en(e,6e4);break;case"second":e=this._d.valueOf(),e-=en(e,1e3)}this._d.setTime(e),p.updateOffset(this,!0)}return this},a.subtract=Xt,a.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},a.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},a.toDate=function(){return new Date(this.valueOf())},a.toISOString=function(t){if(!this.isValid())return null;var e=(t=!0!==t)?this.clone().utc():this;return e.year()<0||9999<e.year()?st(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):r(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",st(e,"Z")):st(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},a.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e="moment",n="";return this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+e+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+(n+'[")]'))},"undefined"!=typeof Symbol&&null!=Symbol.for&&(a[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},a.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},a.eraName=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].name;if(e[n].until<=t&&t<=e[n].since)return e[n].name}return""},a.eraNarrow=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].narrow;if(e[n].until<=t&&t<=e[n].since)return e[n].narrow}return""},a.eraAbbr=function(){for(var t,e=this.localeData().eras(),n=0,i=e.length;n<i;++n){if(t=this.clone().startOf("day").valueOf(),e[n].since<=t&&t<=e[n].until)return e[n].abbr;if(e[n].until<=t&&t<=e[n].since)return e[n].abbr}return""},a.eraYear=function(){for(var t,e,n=this.localeData().eras(),i=0,a=n.length;i<a;++i)if(t=n[i].since<=n[i].until?1:-1,e=this.clone().startOf("day").valueOf(),n[i].since<=e&&e<=n[i].until||n[i].until<=e&&e<=n[i].since)return(this.year()-p(n[i].since).year())*t+n[i].offset;return this.year()},a.year=Ut,a.isLeapYear=function(){return ut(this.year())},a.weekYear=function(t){return ln.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},a.isoWeekYear=function(t){return ln.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},a.quarter=a.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},a.month=Ht,a.daysInMonth=function(){return Nt(this.year(),this.month())},a.week=a.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},a.isoWeek=a.isoWeeks=function(t){var e=Zt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},a.weeksInYear=function(){var t=this.localeData()._week;return A(this.year(),t.dow,t.doy)},a.weeksInWeekYear=function(){var t=this.localeData()._week;return A(this.weekYear(),t.dow,t.doy)},a.isoWeeksInYear=function(){return A(this.year(),1,4)},a.isoWeeksInISOWeekYear=function(){return A(this.isoWeekYear(),1,4)},a.date=wt,a.day=a.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},a.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},a.isoWeekday=function(t){return this.isValid()?null!=t?(e=t,n=this.localeData(),n="string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e,this.day(this.day()%7?n:n-7)):this.day()||7:null!=t?this:NaN;var e,n},a.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},a.hour=a.hours=m,a.minute=a.minutes=pt,a.second=a.seconds=bt,a.millisecond=a.milliseconds=vt,a.utcOffset=function(t,e,n){var i,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?a:Fe(this);if("string"==typeof t){if(null===(t=Re(Ot,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Fe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==t&&(!e||this._changeInProgress?Ze(this,E(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,p.updateOffset(this,!0),this._changeInProgress=null)),this},a.utc=function(t){return this.utcOffset(0,t)},a.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},a.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(t=Re(Mt,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},a.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?N(t).utcOffset():0,(this.utcOffset()-t)%60==0)},a.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},a.isLocal=function(){return!!this.isValid()&&!this._isUTC},a.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},a.isUtc=We,a.isUTC=We,a.zoneAbbr=function(){return this._isUTC?"UTC":""},a.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},a.dates=t("dates accessor is deprecated. Use date instead.",wt),a.months=t("months accessor is deprecated. Use month instead",Ht),a.years=t("years accessor is deprecated. Use year instead",Ut),a.zone=t("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?(this.utcOffset(t="string"!=typeof t?-t:t,e),this):-this.utcOffset()}),a.isDSTShifted=t("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var t,e;return g(this._isDSTShifted)&&(B(t={},this),(t=Pe(t))._a?(e=(t._isUTC?c:N)(t._a),this._isDSTShifted=this.isValid()&&0<function(t,e,n){for(var i=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),s=0,r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&u(t[r])!==u(e[r]))&&s++;return s+a}(t._a,e.toArray())):this._isDSTShifted=!1),this._isDSTShifted});l=K.prototype;function dn(t,e,n,i){var a=me(),i=c().set(i,e);return a[n](i,t)}function fn(t,e,n){if(y(t)&&(e=t,t=void 0),t=t||"",null!=e)return dn(t,e,n,"month");for(var i=[],a=0;a<12;a++)i[a]=dn(t,a,n,"month");return i}function mn(t,e,n,i){e=("boolean"==typeof t?y(e)&&(n=e,e=void 0):(e=t,t=!1,y(n=e)&&(n=e,e=void 0)),e||"");var a,s=me(),r=t?s._week.dow:0,o=[];if(null!=n)return dn(e,(n+r)%7,i,"day");for(a=0;a<7;a++)o[a]=dn(e,(a+r)%7,i,"day");return o}l.calendar=function(t,e,n){return r(t=this._calendar[t]||this._calendar.sameElse)?t.call(e,n):t},l.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(et).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[t])},l.invalidDate=function(){return this._invalidDate},l.ordinal=function(t){return this._ordinal.replace("%d",t)},l.preparse=hn,l.postformat=hn,l.relativeTime=function(t,e,n,i){var a=this._relativeTime[n];return r(a)?a(t,e,n,i):a.replace(/%d/i,t)},l.pastFuture=function(t,e){return r(t=this._relativeTime[0<t?"future":"past"])?t(e):t.replace(/%s/i,e)},l.set=function(t){var e,n;for(n in t)d(t,n)&&(r(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},l.eras=function(t,e){for(var n,i=this._eras||me("en")._eras,a=0,s=i.length;a<s;++a)switch("string"==typeof i[a].since&&(n=p(i[a].since).startOf("day"),i[a].since=n.valueOf()),typeof i[a].until){case"undefined":i[a].until=1/0;break;case"string":n=p(i[a].until).startOf("day").valueOf(),i[a].until=n.valueOf()}return i},l.erasParse=function(t,e,n){var i,a,s,r,o,l=this.eras();for(t=t.toUpperCase(),i=0,a=l.length;i<a;++i)if(s=l[i].name.toUpperCase(),r=l[i].abbr.toUpperCase(),o=l[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(r===t)return l[i];break;case"NNNN":if(s===t)return l[i];break;case"NNNNN":if(o===t)return l[i]}else if(0<=[s,r,o].indexOf(t))return l[i]},l.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?p(t.since).year():p(t.since).year()+(e-t.offset)*n},l.erasAbbrRegex=function(t){return d(this,"_erasAbbrRegex")||rn.call(this),t?this._erasAbbrRegex:this._erasRegex},l.erasNameRegex=function(t){return d(this,"_erasNameRegex")||rn.call(this),t?this._erasNameRegex:this._erasRegex},l.erasNarrowRegex=function(t){return d(this,"_erasNarrowRegex")||rn.call(this),t?this._erasNarrowRegex:this._erasRegex},l.months=function(t,e){return t?(v(this._months)?this._months:this._months[(this._months.isFormat||jt).test(e)?"format":"standalone"])[t.month()]:v(this._months)?this._months:this._months.standalone},l.monthsShort=function(t,e){return t?(v(this._monthsShort)?this._monthsShort:this._monthsShort[jt.test(e)?"format":"standalone"])[t.month()]:v(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},l.monthsParse=function(t,e,n){var i,a;if(this._monthsParseExact)return function(t,e,n){var i,a,s,t=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(a=M.call(this._shortMonthsParse,t))?a:null:-1!==(a=M.call(this._longMonthsParse,t))?a:null:"MMM"===e?-1!==(a=M.call(this._shortMonthsParse,t))||-1!==(a=M.call(this._longMonthsParse,t))?a:null:-1!==(a=M.call(this._longMonthsParse,t))||-1!==(a=M.call(this._shortMonthsParse,t))?a:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},l.monthsRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||Ft.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=$t),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},l.monthsShortRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||Ft.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=It),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},l.week=function(t){return Zt(t,this._week.dow,this._week.doy).week},l.firstDayOfYear=function(){return this._week.doy},l.firstDayOfWeek=function(){return this._week.dow},l.weekdays=function(t,e){return e=v(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"],!0===t?qt(e,this._week.dow):t?e[t.day()]:e},l.weekdaysMin=function(t){return!0===t?qt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},l.weekdaysShort=function(t){return!0===t?qt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},l.weekdaysParse=function(t,e,n){var i,a;if(this._weekdaysParseExact)return function(t,e,n){var i,a,s,t=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(a=M.call(this._weekdaysParse,t))?a:null:"ddd"===e?-1!==(a=M.call(this._shortWeekdaysParse,t))?a:null:-1!==(a=M.call(this._minWeekdaysParse,t))?a:null:"dddd"===e?-1!==(a=M.call(this._weekdaysParse,t))||-1!==(a=M.call(this._shortWeekdaysParse,t))||-1!==(a=M.call(this._minWeekdaysParse,t))?a:null:"ddd"===e?-1!==(a=M.call(this._shortWeekdaysParse,t))||-1!==(a=M.call(this._weekdaysParse,t))||-1!==(a=M.call(this._minWeekdaysParse,t))?a:null:-1!==(a=M.call(this._minWeekdaysParse,t))||-1!==(a=M.call(this._weekdaysParse,t))||-1!==(a=M.call(this._shortWeekdaysParse,t))?a:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},l.weekdaysRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||ne.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Kt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},l.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||ne.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=te),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},l.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||ne.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ee),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},l.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},l.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},de("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===u(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),p.lang=t("moment.lang is deprecated. Use moment.locale instead.",de),p.langData=t("moment.langData is deprecated. Use moment.localeData instead.",me);var pn=Math.abs;function vn(t,e,n,i){e=E(e,n);return t._milliseconds+=i*e._milliseconds,t._days+=i*e._days,t._months+=i*e._months,t._bubble()}function gn(t){return t<0?Math.floor(t):Math.ceil(t)}function yn(t){return 4800*t/146097}function _n(t){return 146097*t/4800}function wn(t){return function(){return this.as(t)}}_t=wn("ms"),mt=wn("s"),Et=wn("m"),yt=wn("h"),gt=wn("d"),Xt=wn("w"),m=wn("M"),pt=wn("Q"),bt=wn("y");function bn(t){return function(){return this.isValid()?this._data[t]:NaN}}var vt=bn("milliseconds"),wt=bn("seconds"),Ut=bn("minutes"),l=bn("hours"),kn=bn("days"),Sn=bn("months"),Mn=bn("years");var On=Math.round,xn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Dn(t,e,n,i){var a=E(t).abs(),s=On(a.as("s")),r=On(a.as("m")),o=On(a.as("h")),l=On(a.as("d")),c=On(a.as("M")),u=On(a.as("w")),a=On(a.as("y")),s=(s<=n.ss?["s",s]:s<n.s&&["ss",s])||r<=1&&["m"]||r<n.m&&["mm",r]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return(s=(s=null!=n.w?s||u<=1&&["w"]||u<n.w&&["ww",u]:s)||c<=1&&["M"]||c<n.M&&["MM",c]||a<=1&&["y"]||["yy",a])[2]=e,s[3]=0<+t,s[4]=i,function(t,e,n,i,a){return a.relativeTime(e||1,!!n,t,i)}.apply(null,s)}var Cn=Math.abs;function Yn(t){return(0<t)-(t<0)||+t}function Pn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i,a,s,r,o=Cn(this._milliseconds)/1e3,l=Cn(this._days),c=Cn(this._months),u=this.asSeconds();return u?(t=h(o/60),e=h(t/60),o%=60,t%=60,n=h(c/12),c%=12,i=o?o.toFixed(3).replace(/\.?0+$/,""):"",a=Yn(this._months)!==Yn(u)?"-":"",s=Yn(this._days)!==Yn(u)?"-":"",r=Yn(this._milliseconds)!==Yn(u)?"-":"",(u<0?"-":"")+"P"+(n?a+n+"Y":"")+(c?a+c+"M":"")+(l?s+l+"D":"")+(e||t||o?"T":"")+(e?r+e+"H":"")+(t?r+t+"M":"")+(o?r+i+"S":"")):"P0D"}var L=Ee.prototype;return L.isValid=function(){return this._isValid},L.abs=function(){var t=this._data;return this._milliseconds=pn(this._milliseconds),this._days=pn(this._days),this._months=pn(this._months),t.milliseconds=pn(t.milliseconds),t.seconds=pn(t.seconds),t.minutes=pn(t.minutes),t.hours=pn(t.hours),t.months=pn(t.months),t.years=pn(t.years),this},L.add=function(t,e){return vn(this,t,e,1)},L.subtract=function(t,e){return vn(this,t,e,-1)},L.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=o(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+yn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(_n(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},L.asMilliseconds=_t,L.asSeconds=mt,L.asMinutes=Et,L.asHours=yt,L.asDays=gt,L.asWeeks=Xt,L.asMonths=m,L.asQuarters=pt,L.asYears=bt,L.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12):NaN},L._bubble=function(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data;return 0<=t&&0<=e&&0<=n||t<=0&&e<=0&&n<=0||(t+=864e5*gn(_n(n)+e),n=e=0),i.milliseconds=t%1e3,t=h(t/1e3),i.seconds=t%60,t=h(t/60),i.minutes=t%60,t=h(t/60),i.hours=t%24,e+=h(t/24),n+=t=h(yn(e)),e-=gn(_n(t)),t=h(n/12),n%=12,i.days=e,i.months=n,i.years=t,this},L.clone=function(){return E(this)},L.get=function(t){return t=o(t),this.isValid()?this[t+"s"]():NaN},L.milliseconds=vt,L.seconds=wt,L.minutes=Ut,L.hours=l,L.days=kn,L.weeks=function(){return h(this.days()/7)},L.months=Sn,L.years=Mn,L.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=xn;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(n=t),"object"==typeof e&&(i=Object.assign({},xn,e),null!=e.s&&null==e.ss&&(i.ss=e.s-1)),t=this.localeData(),e=Dn(this,!n,i,t),n&&(e=t.pastFuture(+this,e)),t.postformat(e)},L.toISOString=Pn,L.toString=Pn,L.toJSON=Pn,L.locale=Qe,L.localeData=Ke,L.toIsoString=t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pn),L.lang=Qt,i("X",0,0,"unix"),i("x",0,0,"valueOf"),b("x",St),b("X",/[+-]?\d+(\.\d{1,3})?/),S("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t))}),S("x",function(t,e,n){n._d=new Date(u(t))}),p.version="2.29.4",j=N,p.fn=a,p.min=function(){return Te("isBefore",[].slice.call(arguments,0))},p.max=function(){return Te("isAfter",[].slice.call(arguments,0))},p.now=function(){return Date.now?Date.now():+new Date},p.utc=c,p.unix=function(t){return N(1e3*t)},p.months=function(t,e){return fn(t,e,"months")},p.isDate=R,p.locale=de,p.invalid=U,p.duration=E,p.isMoment=w,p.weekdays=function(t,e,n){return mn(t,e,n,"weekdays")},p.parseZone=function(){return N.apply(null,arguments).parseZone()},p.localeData=me,p.isDuration=Le,p.monthsShort=function(t,e){return fn(t,e,"monthsShort")},p.weekdaysMin=function(t,e,n){return mn(t,e,n,"weekdaysMin")},p.defineLocale=fe,p.updateLocale=function(t,e){var n,i;return null!=e?(i=oe,null!=T[t]&&null!=T[t].parentLocale?T[t].set(Q(T[t]._config,e)):(e=Q(i=null!=(n=he(t))?n._config:i,e),null==n&&(e.abbr=t),(i=new K(e)).parentLocale=T[t],T[t]=i),de(t)):null!=T[t]&&(null!=T[t].parentLocale?(T[t]=T[t].parentLocale,t===de()&&de(t)):null!=T[t]&&delete T[t]),T[t]},p.locales=function(){return tt(T)},p.weekdaysShort=function(t,e,n){return mn(t,e,n,"weekdaysShort")},p.normalizeUnits=o,p.relativeTimeRounding=function(t){return void 0===t?On:"function"==typeof t&&(On=t,!0)},p.relativeTimeThreshold=function(t,e){return void 0!==xn[t]&&(void 0===e?xn[t]:(xn[t]=e,"s"===t&&(xn.ss=e-1),!0))},p.calendarFormat=function(t,e){return(t=t.diff(e,"days",!0))<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"},p.prototype=a,p.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},p},"object"==typeof t&&void 0!==Tn?Tn.exports=n():"function"==typeof define&&define.amd?define(n):e.moment=n()},{}],24:[function(r,t,e){"use strict";t.exports=t=>{t=t.getPlugin("plugin");const i=r("./lib/utils"),e=r("./components/controls"),n=r("./components/annotation_state"),a=r("./lib/event_dispatcher"),s=Object.freeze({bindArrowKeys:!0,meta:{user_id:null,user_name:null},annotationsObjects:[],showControls:!0,showCommentList:!0,showFullScreen:!0,showMarkerShapeAndTooltips:!0,internalCommenting:!0,startInAnnotationMode:!1});return class extends t{constructor(t,e){super(t,e=Object.assign(i.cloneObject(s),e)),this.eventDispatcher=new a,this.eventDispatcher.registerListenersFor(this,"AnnotationComments"),this.player=t,this.meta=e.meta,this.options=e,this._readyCallbacks=[],t.annotationComments=()=>this,3<=t.readyState()?this.postLoadDataConstructor():t.on("loadeddata",this.postLoadDataConstructor.bind(this))}postLoadDataConstructor(){this.annotationState=new n(this.player),this.annotationState.annotations=this.options.annotationsObjects,this.controls=new e(this.player,this.options.bindArrowKeys),this.bindEvents(),this.setBounds(!1),this.options.startInAnnotationMode&&this.toggleAnnotationMode(),this.pluginReady()}bindEvents(){window.addEventListener("resize.vac-window-resize",i.throttle(this.setBounds.bind(this),500)),this.player.on("fullscreenchange",i.throttle(this.setBounds.bind(this),500)),this.options.showFullScreen||this.player.on("fullscreenchange",()=>{this.player.isFullscreen_?(this.preFullscreenAnnotationsEnabled=this.active,this.player.el().classList.add("vac-disable-fullscreen")):this.player.el().classList.remove("vac-disable-fullscreen"),this.preFullscreenAnnotationsEnabled&&this.toggleAnnotationMode()})}fire(t){this.eventDispatcher.fire(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}registerListener(t,e){this.eventDispatcher.registerListener(t,e,!1)}toggleAnnotationMode(){this.active=!this.active,this.player.toggleClass("vac-active"),this.annotationState.enabled=this.active,this.active?this.fire("annotationModeEnabled"):this.fire("annotationModeDisabled"),this.options.showControls&&(this.active?this.controls.render():this.controls.clear(!0))}setBounds(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.bounds={};const e=this.player.el();var n=e.querySelector(".vjs-control-bar");this.bounds.left=i.elementOffset(e).left,this.bounds.top=i.elementOffset(e).top,this.bounds.right=this.bounds.left+e.clientWidth,this.bounds.bottom=this.bounds.top+i.elementHeight(e),this.bounds.bottomWithoutControls=this.bounds.bottom-i.elementHeight(n),t&&this.fire("playerBoundsChanged",this.bounds)}onReady(t){if(this.eventDispatcher.pluginReady)return t();this._readyCallbacks.push(t)}pluginReady(){for(this.eventDispatcher.pluginReady=!0;this._readyCallbacks.length;)this._readyCallbacks.pop()()}dispose(){this.controls=this.controls.teardown(),this.annotationState=this.annotationState.teardown(),this.eventDispatcher=this.eventDispatcher.teardown(),this.teardown(),this.player&&(this.player.annotationComments=null,this.player.el().classList.remove("vac-active"),this.player.el().querySelectorAll("[class^='vac-']").forEach(t=>t.parentNode.removeChild(t))),super.dispose()}teardown(){this.player&&this.player.off("fullscreenchange"),window.removeEventListener("resize.vac-window-resize")}}}},{"./components/annotation_state":27,"./components/controls":30,"./lib/event_dispatcher":37,"./lib/utils":41}],25:[function(t,e,n){"use strict";t=t("handlebars/runtime");n.templates=n.templates||{},n.templates.comment=t.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s,r=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="vac-comment" data-id="'+c(typeof(s=null!=(s=u(n,"id")||(null!=e?u(e,"id"):e))?s:o)==l?s.call(r,{name:"id",hash:{},data:a,loc:{start:{line:1,column:34},end:{line:1,column:40}}}):s)+'">\n  <div class="vac-comment-header">\n    <div class="vac-author-name">'+c(t.lambda(null!=(t=null!=e?u(e,"meta"):e)?u(t,"user_name"):t,e))+'</div>\n    <div class="vac-timestamp">'+c(typeof(s=null!=(s=u(n,"timeSince")||(null!=e?u(e,"timeSince"):e))?s:o)==l?s.call(r,{name:"timeSince",hash:{},data:a,loc:{start:{line:4,column:31},end:{line:4,column:44}}}):s)+'\n      <span class="vac-delete-comment">&nbsp;&nbsp;X</span>\n    </div>\n  </div>\n  <div class="vac-comment-body">\n    '+c((u(n,"breaklines")||e&&u(e,"breaklines")||o).call(r,null!=e?u(e,"body"):e,{name:"breaklines",hash:{},data:a,loc:{start:{line:9,column:4},end:{line:9,column:23}}}))+"\n  </div>\n</div>\n"},useData:!0}),n.templates.comment_list=t.template({1:function(t,e,n,i,a,s){return"    "+(null!=(t=t.lambda(s[0][0],e))?t:"")+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a,s){var r,o=null!=e?e:t.nullContext||{},l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="vac-comments-container">\n  <div class="vac-comments-wrap">\n'+(null!=(r=l(n,"each").call(o,null!=e?l(e,"commentsHTML"):e,{name:"each",hash:{},fn:t.program(1,a,1,s),inverse:t.noop,data:a,blockParams:s,loc:{start:{line:3,column:4},end:{line:5,column:13}}}))?r:"")+'    <div class="vac-reply-btn vac-button">ADD REPLY</div>\n    <div class="vac-add-new-shapebox"></div>\n  </div>\n  <div class="vac-comments-control-bar">\n    <div class="vac-range"><b>@</b> '+t.escapeExpression("function"==typeof(r=null!=(r=l(n,"rangeStr")||(null!=e?l(e,"rangeStr"):e))?r:t.hooks.helperMissing)?r.call(o,{name:"rangeStr",hash:{},data:a,blockParams:s,loc:{start:{line:10,column:36},end:{line:10,column:48}}}):r)+'</div>\n    <div class="vac-control-buttons">\n      <a class="vac-delete-annotation">DELETE</a> | <a class="vac-close-comment-list">CLOSE</a>\n    </div>\n  </div>\n</div>\n'},useData:!0,useBlockParams:!0}),n.templates.controls=t.template({1:function(t,e,n,i,a){var s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(n=s(n,"if").call(null!=e?e:t.nullContext||{},null!=e?s(e,"showControls"):e,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a,loc:{start:{line:2,column:0},end:{line:12,column:7}}}))?n:""},2:function(t,e,n,i,a){var s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="vac-controls vac-control">\n    <button class="vac-button">+ NEW</button>\n'+(null!=(n=s(n,"if").call(null!=e?e:t.nullContext||{},null!=e?s(e,"showNav"):e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a,loc:{start:{line:5,column:4},end:{line:10,column:11}}}))?n:"")+"</div>\n"},3:function(t,e,n,i,a){return'    <div class="vac-annotation-nav">\n        <div class="vac-a-prev">Prev</div>\n        <div class="vac-a-next">Next</div>\n    </div>\n'},5:function(t,e,n,i,a){var s,r=null!=e?e:t.nullContext||{},o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="vac-video-cover vac-control">\n    <div class="vac-video-cover-canvas">\n        <div class="vac-cursor-tool-tip vac-hidden">Click and drag to select</div>\n    </div>\n</div>\n'+(null!=(s=o(n,"if").call(r,null!=e?o(e,"showControls"):e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a,loc:{start:{line:21,column:0},end:{line:33,column:7}}}))?s:"")+"\n"+(null!=(s=o(n,"if").call(r,null!=e?o(e,"writingComment"):e,{name:"if",hash:{},fn:t.program(9,a,0),inverse:t.noop,data:a,loc:{start:{line:35,column:0},end:{line:50,column:7}}}))?s:"")},6:function(t,e,n,i,a){var s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="vac-add-controls vac-control">\n    <i>Select shape + range</i>\n'+(null!=(n=s(n,"if").call(null!=e?e:t.nullContext||{},null!=e?s(e,"internalCommenting"):e,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a,loc:{start:{line:24,column:4},end:{line:27,column:11}}}))?n:"")+'    <div class="vac-video-move">\n        <div class="vac-a-prev">-1 sec</div>\n        <div class="vac-a-next">+1 sec</div>\n    </div>\n</div>\n'},7:function(t,e,n,i,a){return'    <button class="vac-button">CONTINUE</button>\n    <a>cancel</a>\n'},9:function(t,e,n,i,a){var s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="vac-video-write-new-wrap vac-control">\n    <div class="vac-video-write-new vac-is-annotation">\n        <div>\n            <h5><b>New Annotation</b> @ '+t.escapeExpression("function"==typeof(n=null!=(n=s(n,"rangeStr")||(null!=e?s(e,"rangeStr"):e))?n:t.hooks.helperMissing)?n.call(null!=e?e:t.nullContext||{},{name:"rangeStr",hash:{},data:a,loc:{start:{line:39,column:40},end:{line:39,column:52}}}):n)+'</h5>\n            <div class="vac-comment-showbox">\n                <textarea placeholder="Enter comment..."></textarea>\n                <div>\n                    <button class="vac-button">SAVE</button>\n                    <a>Cancel</a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s,r=null!=e?e:t.nullContext||{},o=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(s=o(n,"unless").call(r,null!=e?o(e,"adding"):e,{name:"unless",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:1,column:0},end:{line:13,column:11}}}))?s:"")+"\n"+(null!=(s=o(n,"if").call(r,null!=e?o(e,"adding"):e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a,loc:{start:{line:15,column:0},end:{line:51,column:7}}}))?s:"")},useData:!0}),n.templates.draggable_marker=t.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s,r=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,l="function",c=t.escapeExpression,t=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div data-marker-id="'+c(typeof(s=null!=(s=t(n,"id")||(null!=e?t(e,"id"):e))?s:o)==l?s.call(r,{name:"id",hash:{},data:a,loc:{start:{line:1,column:21},end:{line:1,column:27}}}):s)+'" class="vac-marker-draggable vac-ranged-marker" style="left: '+c(typeof(s=null!=(s=t(n,"left")||(null!=e?t(e,"left"):e))?s:o)==l?s.call(r,{name:"left",hash:{},data:a,loc:{start:{line:1,column:89},end:{line:1,column:97}}}):s)+"; width:"+c(typeof(s=null!=(s=t(n,"width")||(null!=e?t(e,"width"):e))?s:o)==l?s.call(r,{name:"width",hash:{},data:a,loc:{start:{line:1,column:105},end:{line:1,column:114}}}):s)+';">\n</div>\n'},useData:!0}),n.templates.marker=t.template({1:function(t,e,n,i,a){return"vac-ranged-marker"},3:function(t,e,n,i,a){var s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"width:"+t.escapeExpression("function"==typeof(n=null!=(n=s(n,"width")||(null!=e?s(e,"width"):e))?n:t.hooks.helperMissing)?n.call(null!=e?e:t.nullContext||{},{name:"width",hash:{},data:a,loc:{start:{line:2,column:50},end:{line:2,column:59}}}):n)+";"},5:function(t,e,n,i,a){var s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(n=s(n,"if").call(null!=e?e:t.nullContext||{},null!=e?s(e,"tooltipBody"):e,{name:"if",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a,loc:{start:{line:4,column:4},end:{line:10,column:11}}}))?n:""},6:function(t,e,n,i,a){var s=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,o="function",l=t.escapeExpression,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <div>\n        <span class="vac-tooltip '+(null!=(t=c(n,"if").call(s,null!=e?c(e,"tooltipRight"):e,{name:"if",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a,loc:{start:{line:6,column:33},end:{line:6,column:74}}}))?t:"")+'">\n            <b>'+l(typeof(t=null!=(t=c(n,"tooltipTime")||(null!=e?c(e,"tooltipTime"):e))?t:r)==o?t.call(s,{name:"tooltipTime",hash:{},data:a,loc:{start:{line:7,column:15},end:{line:7,column:30}}}):t)+"</b> - "+l(typeof(t=null!=(t=c(n,"tooltipBody")||(null!=e?c(e,"tooltipBody"):e))?t:r)==o?t.call(s,{name:"tooltipBody",hash:{},data:a,loc:{start:{line:7,column:37},end:{line:7,column:52}}}):t)+"\n        </span>\n    </div>\n"},7:function(t,e,n,i,a){return"vac-right-side"},compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s,r,o=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,h=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div data-marker-id="'+u(typeof(r=null!=(r=h(n,"id")||(null!=e?h(e,"id"):e))?r:l)==c?r.call(o,{name:"id",hash:{},data:a,loc:{start:{line:1,column:21},end:{line:1,column:27}}}):r)+'" class="vac-marker '+(null!=(s=h(n,"if").call(o,null!=e?h(e,"rangeShow"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:1,column:47},end:{line:1,column:88}}}))?s:"")+'"\n    style="left: '+u(typeof(r=null!=(r=h(n,"left")||(null!=e?h(e,"left"):e))?r:l)==c?r.call(o,{name:"left",hash:{},data:a,loc:{start:{line:2,column:17},end:{line:2,column:25}}}):r)+"; "+(null!=(s=h(n,"if").call(o,null!=e?h(e,"rangeShow"):e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a,loc:{start:{line:2,column:27},end:{line:2,column:67}}}))?s:"")+" z-index: "+u(typeof(r=null!=(r=h(n,"zIndex")||(null!=e?h(e,"zIndex"):e))?r:l)==c?r.call(o,{name:"zIndex",hash:{},data:a,loc:{start:{line:2,column:77},end:{line:2,column:87}}}):r)+'">\n'+(null!=(s=h(n,"if").call(o,null!=e?h(e,"showTooltip"):e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a,loc:{start:{line:3,column:4},end:{line:11,column:11}}}))?s:"")+"</div>\n"},useData:!0}),n.templates.marker_wrap=t.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){return'<div class="vac-marker-owrap">\n\t<div class="vac-marker-wrap"></div>\n</div>\n'},useData:!0}),n.templates.new_comment=t.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){var s,r=null!=e?e:t.nullContext||{},o=t.hooks.helperMissing,l="function",c=t.escapeExpression,t=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="vac-video-write-new-wrap vac-new-comment">\n  <div class="vac-video-write-new vac-is-comment">\n    <div class="vac-comment-showbox" style="width:'+c(typeof(s=null!=(s=t(n,"width")||(null!=e?t(e,"width"):e))?s:o)==l?s.call(r,{name:"width",hash:{},data:a,loc:{start:{line:3,column:50},end:{line:3,column:59}}}):s)+"px;top:"+c(typeof(s=null!=(s=t(n,"top")||(null!=e?t(e,"top"):e))?s:o)==l?s.call(r,{name:"top",hash:{},data:a,loc:{start:{line:3,column:66},end:{line:3,column:73}}}):s)+"px;right:"+c(typeof(s=null!=(s=t(n,"right")||(null!=e?t(e,"right"):e))?s:o)==l?s.call(r,{name:"right",hash:{},data:a,loc:{start:{line:3,column:82},end:{line:3,column:91}}}):s)+'px">\n      <textarea placeholder="Enter comment..."></textarea>\n      <div>\n        <button class="vac-button">SAVE</button>\n        <a>Cancel</a>\n      </div>\n    </div>\n  </div>\n'},useData:!0}),n.templates.player_button=t.template({compiler:[8,">= 4.3.0"],main:function(t,e,n,i,a){return'<b></b>\n<i class="vac-player-icon">\n\t<svg height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n\t\t<path\n\t\t\td="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />\n\t\t<path d="M0 0h24v24H0z" fill="none" />\n\t</svg>\n</i>\n'},useData:!0})},{"handlebars/runtime":1}],26:[function(t,e,n){"use strict";var i=t("./../lib/player_ui_component");const s=t("./../lib/utils.js"),a=t("./comment_list"),r=t("./marker"),o=t("./comment"),l=t("./shape");e.exports=class c extends i{constructor(t,e){super(e),this.id=t.id||this.componentId,this.range=t.range,this.shape=t.shape,this.secondsActive=this.buildSecondsActiveArray(),this.buildComments(t),this.buildMarker(),this.buildShape(),this.bindEvents(),this.isOpen=!1}buildComments(t){this.commentList=new a({comments:t.comments,annotation:this},this.player)}buildMarker(){this.marker=new r(this.player,this.range,this.commentList.comments[0]),this.marker.render()}buildShape(){this.annotationShape=new l(this.player,this.shape)}get data(){return{id:this.id,range:this.range,shape:this.shape,comments:this.commentList.data}}bindEvents(){this.marker.$el.on("click.vac-marker",t=>this.plugin.annotationState.openAnnotation(this,!0))}open(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=(this.isOpen=!0,n||!s.isWithinRange(this.range.start,this.range.end,Math.floor(this.currentTime))),i=e&&this.plugin.options.showMarkerShapeAndTooltips;this.marker.setActive(i),!e&&this.plugin.options.showCommentList&&this.commentList.render(),e&&!this.plugin.options.showMarkerShapeAndTooltips||(this.annotationShape.render(),this.shape&&this.annotationShape.$el.on("click.vac-annotation",()=>{this.plugin.annotationState.openAnnotation(this,!1,!1,!1)})),t&&this.player.pause(),n&&(this.currentTime=this.range.start),this.plugin.fire("annotationOpened",{annotation:this.data,triggered_by_timeline:e})}close(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.isOpen&&(this.isOpen=!1,this.marker.deactivate(),this.commentList.teardown(!1),this.annotationShape.$el&&this.annotationShape.$el.off("click.vac-annotation"),this.annotationShape.teardown(),t&&this.plugin.annotationState.clearActive(),this.plugin.fire("annotationClosed",this.data))}buildSecondsActiveArray(){const e=[];if(this.range.end)for(let t=this.range.start;t<=this.range.end;t++)e.push(t);else{var t=this.range["start"];e.push(t),t<this.duration&&e.push(t+1)}return e}teardown(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.close(!0),this.marker.teardown(),this.commentList&&this.commentList.teardown(t),t&&this.plugin.annotationState.removeAnnotation(this),this.annotationShape&&this.annotationShape.teardown(),t&&super.teardown()}static newFromData(t,e,n,i){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,n=o.dataObj(n,i),a={id:a,range:t=t&&s.parseIntObj(t),shape:e=e&&s.parseIntObj(e),comments:[n]};return new c(a,i.player)}get isActive(){return this.plugin.annotationState.activeAnnotation===this}}},{"./../lib/player_ui_component":40,"./../lib/utils.js":41,"./comment":28,"./comment_list":29,"./marker":32,"./shape":35}],27:[function(t,e,n){"use strict";const i=t("./../lib/utils");var a=t("./../lib/player_component");const s=t("./annotation");e.exports=class extends a{constructor(t){super(t),this.initAPI(this,"AnnotationState"),this.resetData(),this.bindEvents()}set enabled(t){(this._enabled=t)||this.activeAnnotation.close(),t&&(this.skipLiveCheck=!1,this.setLiveAnnotation())}get enabled(){return this._enabled}set annotations(t){this._annotations=t.map(t=>new s(t,this.player)),this.sortAnnotations(),this.rebuildAnnotationTimeMap()}get annotations(){return this._annotations}set activeAnnotation(t){this._activeAnnotation=t=void 0===t?null:t}get activeAnnotation(){return this._activeAnnotation||{close:()=>{}}}get data(){return this._annotations.map(t=>t.data)}bindEvents(){this.player.on("timeupdate",i.throttle(this.setLiveAnnotation.bind(this),100))}sortAnnotations(){this._annotations.sort((t,e)=>t.range.start<e.range.start?-1:t.range.start>e.range.start?1:0)}addNewAnnotation(t){this._annotations.push(t),this.openAnnotation(t,!0,!0,!1,!0),this.stateChanged()}createAndAddAnnotation(t){this.plugin.controls.uiState.adding&&this.plugin.controls.cancelAddNew();t=s.newFromData(t.range,t.shape,t.commentStr||"",this.plugin,t.id);this.addNewAnnotation(t)}destroyAnnotationById(t){const e=this.findAnnotation(t);e&&e.teardown()}removeAnnotation(t){var e=t["id"],t=this._annotations.indexOf(t);this._annotations.splice(t,1),this.stateChanged(),this.plugin.fire("annotationDeleted",{id:e})}setLiveAnnotation(){if(this.enabled){var t=Math.floor(this.currentTime);if(this.skipLiveCheck)t!==this.lastVideoTime&&(this.skipLiveCheck=!1);else{var e=this.activeAnnotationsForTime(t);if(!e.length)return this.activeAnnotation.close();e=this.annotations[e[e.length-1]];if(this.activeAnnotation.range){if(e===this.activeAnnotation)return;var n=e.range.start;if(n===this.activeAnnotation.range.start&&n===t)return}this.openAnnotation(e,!1,!1,!0)}}}activeAnnotationsForTime(t){return this.annotations.length&&this.annotationTimeMap[t]||[]}rebuildAnnotationTimeMap(){const i={};this.annotations.forEach(n=>{n.secondsActive.forEach(t=>{const e=i[t]||[];e.push(this.annotations.indexOf(n)),i[t]=e})}),this.annotationTimeMap=i}clearActive(){this.activeAnnotation.close(!1),this._activeAnnotation=null}openAnnotation(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=4<arguments.length&&void 0!==arguments[4]&&arguments[4];this.plugin.active||this.plugin.toggleAnnotationMode(),this.skipLiveCheck=e,this.clearActive(),t.open(n,i,a),this.activeAnnotation=t,this.lastVideoTime=this.activeAnnotation.range.start}openAnnotationById(t){t=this.findAnnotation(t);t&&this.openAnnotation(t)}findAnnotation(e){return this.annotations.find(t=>t.id==e)}findComment(e){let t=this.annotations.map(t=>t.commentList.comments);return(t=[].concat(...t)).find(t=>t.id==e)}nextAnnotation(){var t;if(this._activeAnnotation)return t=(t=this.annotations.indexOf(this._activeAnnotation))===this.annotations.length-1?0:t+1,this.openAnnotation(this.annotations[t],!0);var e=Math.floor(this.currentTime);for(let t=0;t<this.annotations.length;t++)if(this.annotations[t].range.start>e)return this.openAnnotation(this.annotations[t],!0);this.openAnnotation(this.annotations[0],!0)}prevAnnotation(){var t;if(this._activeAnnotation)return t=0===(t=this.annotations.indexOf(this._activeAnnotation))?this.annotations.length-1:t-1,this.openAnnotation(this.annotations[t],!0);var e=Math.floor(this.currentTime);for(let t=this.annotations.length-1;0<=t;t--)if(this.annotations[t].range.start<e)return this.openAnnotation(this.annotations[t],!0);this.openAnnotation(this.annotations[this.annotations.length-1],!0)}stateChanged(){this.sortAnnotations(),this.rebuildAnnotationTimeMap(),this.plugin.fire("onStateChanged",this.data)}resetData(){this.annotations=[],this.annotationTimeMap={},this.activeAnnotation=null,this.enabled=!1,this.skipNextTimeCheck=!1,this.lastVideoTime=0}teardown(){this.annotations.forEach(t=>{t.teardown(!1)}),this.resetData(),super.teardown()}}},{"./../lib/player_component":39,"./../lib/utils":41,"./annotation":26}],28:[function(t,e,n){"use strict";function s(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function i(i){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){var e,n;e=i,n=a[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})}return i}const a=t("moment");var r=t("./../lib/player_ui_component");const o=t("./../lib/utils");e.exports=class l extends r{constructor(t,e){super(e),this.commentList=t.commentList,this.id=t.id||this.componentId,this.meta=t.meta,this.body=t.body,this.timestamp=a(t.meta.datetime).unix(),this.timeSince=this.timeSince(),this.$el=$(this.render())}get data(){return{id:this.id,meta:this.meta,body:this.body}}get HTML(){return this.$el[0].outerHTML}render(){return this.renderTemplate("comment",{id:this.id,body:this.body,meta:this.meta,timeSince:this.timeSince})}timeSince(){return a(this.meta.datetime).fromNow()}teardown(){super.teardown(0<arguments.length&&void 0!==arguments[0]&&arguments[0])}static newFromData(t,e,n){const i=this.dataObj(t,n);return i.commentList=e,new l(i,n.player)}static dataObj(t,e){return{meta:i({datetime:a().toISOString()},e.meta),id:o.guid(),body:t}}}},{"./../lib/player_ui_component":40,"./../lib/utils":41,moment:23}],29:[function(t,e,n){"use strict";var i=t("./../lib/player_ui_component");const a=t("./../lib/utils"),s=t("./comment");e.exports=class extends i{constructor(t,e){super(e),this.annotation=t.annotation,this.comments=t.comments.map(t=>(t.commentList=this,new s(t,e))),this.sortComments()}get data(){return this.comments.map(t=>t.data)}bindListEvents(){this.$el.on("click.vac-comment",".vac-close-comment-list",()=>this.annotation.close()).on("click.vac-comment",".vac-reply-btn",this.addNewComment.bind(this)).on("click.vac-comment",".vac-delete-annotation",this.handleDeleteAnnotationClick.bind(this)).on("click.vac-comment",".vac-delete-comment",this.destroyComment.bind(this)).on("mousewheel.vac-comment DOMMouseScroll.vac-comment",".vac-comments-wrap",this.disablePageScroll.bind(this))}bindCommentFormEvents(){this.$newCommentForm.on("click.vac-comment",".vac-add-controls a, .vac-video-write-new.vac-is-comment a",this.closeNewComment.bind(this)).on("click.vac-comment",".vac-video-write-new.vac-is-comment button",this.saveNewComment.bind(this))}render(){this.$el=$(this.renderTemplate("comment_list",{commentsHTML:this.comments.map(t=>t.HTML),rangeStr:a.humanTime(this.annotation.range)})),this.$player.append(this.$el),this.$wrap=this.$UI.commentsContainer,this.bindListEvents()}reRender(){this.teardown(!1),this.render()}addNewComment(){this.$wrap.addClass(this.UI_CLASSES.active).find(".vac-comments-wrap").scrollTop=999999;const t=this.$wrap.find(".vac-add-new-shapebox");var e=t.outerWidth(),n=t.position().top+10,i=this.$wrap.outerWidth()-(t.position().left+e);this.$newCommentForm=$(this.renderTemplate("new_comment",{width:e,top:n,right:i})),this.bindCommentFormEvents(),this.$player.append(this.$newCommentForm)}saveNewComment(){this.$wrap.removeClass(this.UI_CLASSES.active);var t=this.$UI.newCommentTextarea.val();t&&this.createComment(t)}createComment(t){t=s.newFromData(t,this,this.plugin);this.comments.push(t),this.sortComments(),this.annotation.isActive&&(this.reRender(!1),this.closeNewComment()),this.plugin.annotationState.stateChanged()}closeNewComment(){this.unbindCommentFormEvents(),this.$wrap&&this.$wrap.removeClass(this.UI_CLASSES.active),this.$newCommentForm&&this.$newCommentForm.remove()}destroyComment(t){this.annotation.id;if(1===this.comments.length)this.annotation.teardown();else{const e=this.findCommentId(t);t=this.comments.find(t=>t.id===e),t=this.comments.indexOf(t);this.comments.splice(t,1),this.reRender()}this.plugin.annotationState.stateChanged()}findCommentId(t){return void 0===t.detail.id?$(t.target).closest(".vac-comment").data("id"):t.detail.id}disablePageScroll(t){const e=$(t.currentTarget);var n=e.height(),i=(t.wheelDelta||-t.detail)<0?"down":"up",a=Math.abs(t.currentTarget.scrollHeight-t.currentTarget.clientHeight);e.scrollTop<20&&"up"==i&&(e.stop(),e.animate({scrollTop:0},100),t.preventDefault()),e.scrollTop>a-10&&"down"==i&&(e.stop(),e.animate({scrollTop:n+40},100),t.preventDefault())}sortComments(){this.comments.sort((t,e)=>t.timestamp<e.timestamp?-1:t.timestamp>e.timestamp?1:0)}handleDeleteAnnotationClick(t){const e=$("<a/>").addClass("vac-delete-confirm").text("CONFIRM");e.on("click.comment",()=>{e.off("click.comment"),this.annotation.teardown()}),$(t.target).replaceWith(e)}unbindCommentFormEvents(){this.$newCommentForm&&this.$newCommentForm.off("click.vac-comment")}teardown(){let e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.$el&&this.$el.off("click.vac-comment mousewheel.vac-comment DOMMouseScroll.vac-comment"),this.comments.forEach(t=>t.teardown(e)),e&&(this.comments=[]),super.teardown()}}},{"./../lib/player_ui_component":40,"./../lib/utils":41,"./comment":28}],30:[function(t,e,n){"use strict";function s(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function i(i){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){var e,n;e=i,n=a[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})}return i}var a=t("./../lib/player_ui_component");const r=t("./../lib/utils"),o=t("./draggable_marker.js"),l=t("./selectable_shape.js"),c=t("./player_button"),u=t("./annotation"),h=Object.freeze({adding:!1,writingComment:!1});e.exports=class extends a{constructor(t,e){super(t),this.initAPI(this,"Controls"),this.internalCommenting=this.plugin.options.internalCommenting,this.showControls=this.plugin.options.showControls,this.uiState=r.cloneObject(h),this.bindEvents(e),this.showControls&&(this.playerButton=new c(this.player)),this.render()}bindEvents(t){this.$player.on("click.vac-controls",".vac-controls button",this.startAddNew.bind(this)).on("click.vac-controls",".vac-annotation-nav .vac-a-next",()=>this.plugin.annotationState.nextAnnotation()).on("click.vac-controls",".vac-annotation-nav .vac-a-prev",()=>this.plugin.annotationState.prevAnnotation()).on("click.vac-controls",".vac-video-move .vac-a-next",()=>this.marker.scrubStart(1)).on("click.vac-controls",".vac-video-move .vac-a-prev",()=>this.marker.scrubStart(-1)),this.internalCommenting&&this.$player.on("click.vac-controls",".vac-add-controls button",this.writeComment.bind(this)).on("click.vac-controls",".vac-video-write-new.vac-is-annotation button",this.saveNew.bind(this)).on("click.vac-controls",".vac-add-controls a, .vac-video-write-new.vac-is-annotation a",this.cancelAddNew.bind(this)),t&&$(document).on("keyup.vac-nav-".concat(this.playerId),t=>this.handleArrowKeys(t))}teardown(){this.clear(!0),this.$player.off("click.vac-controls"),$(document).off("keyup.vac-nav-".concat(this.playerId," mousemove.vac-tooltip-").concat(this.playerId)),this.playerButton&&this.playerButton.teardown(),super.teardown()}clear(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.uiState.adding&&(this.restoreNormalUI(),this.marker.teardown(),this.selectableShape.teardown()),this.uiState=r.cloneObject(h),this.$player.find(".vac-video-cover-canvas").off("mousedown.vac-cursor-tooltip").off("mouseup.vac-cursor-tooltip")),this.$tooltip_=null,this.$UI.controlElements.remove()}render(){this.clear(0<arguments.length&&void 0!==arguments[0]&&arguments[0]);var t=i(i({rangeStr:this.marker?r.humanTime(this.marker.range):null,showNav:1<this.plugin.annotationState.annotations.length},this.uiState),{},{internalCommenting:this.internalCommenting,showControls:this.showControls}),t=this.renderTemplate("controls",t);this.$player.append(t),this.playerButton&&this.playerButton.updateNumAnnotations()}cancelAddNew(){(this.uiState.adding||this.uiState.writingComment)&&(this.render(!0),this.marker.teardown(),this.marker=null)}startAddNew(){this.plugin.active||this.plugin.toggleAnnotationMode(),this.player.pause(),this.setAddingUI(),this.uiState.adding=!0,this.render();var t={start:parseInt(this.currentTime,10),stop:parseInt(this.currentTime,10)};this.marker=new o(this.player,t),this.selectableShape=new l(this.player),this.showControls||this.bindCursorTooltip(),this.plugin.fire("enteredAddingAnnotation",{range:t})}writeComment(){this.uiState.writingComment=!0,this.render()}saveNew(){var t=this.$UI.newCommentTextarea.val();t&&(t=u.newFromData(this.marker.range,this.selectableShape.shape,t,this.plugin),this.plugin.annotationState.addNewAnnotation(t),this.cancelAddNew())}setAddingUI(){this.plugin.annotationState.enabled=!1,this.disablePlayingAndControl()}restoreNormalUI(){this.plugin.annotationState.enabled=this.plugin.active,this.enablePlayingAndControl(),$(document).off("mousemove.vac-tooltip-".concat(this.playerId))}handleArrowKeys(t){this.plugin.active&&(37==(t=t.which)&&this.plugin.annotationState.prevAnnotation(),39==t&&this.plugin.annotationState.nextAnnotation())}bindCursorTooltip(){this.tooltipArea=r.areaOfHiddenEl(this.$tooltip,this.$UI.coverCanvas,this.UI_CLASSES.hidden),this.plugin.setBounds(!1),$(document).on("mousemove.vac-tooltip-".concat(this.playerId),r.throttle(t=>{var e,n,i,a,s,r,o;this.plugin.bounds&&(a=t.pageX,t=t.pageY,e=!(i=a<this.plugin.bounds.left||a>this.plugin.bounds.right||t<this.plugin.bounds.top||t>this.plugin.bounds.bottom)&&t>=this.plugin.bounds.bottomWithoutControls,n=this.$tooltip.hasClass("vac-marker-hover"),i?this.$tooltip.addClass(this.UI_CLASSES.hidden):(i=a-this.plugin.bounds.left,a=t-this.plugin.bounds.top,t=this.$player.width(),s=this.$player.height()-this.$UI.controlBar.height(),o=i+this.tooltipArea.width+20>=t,r=a+this.tooltipArea.height+20>=s,o=o?t-this.tooltipArea.width-10:10+i,t=r?s-this.tooltipArea.height-10:10+a,e&&!n||this.$tooltip.hasClass("vac-cursor-dragging")?this.$tooltip.addClass(this.UI_CLASSES.hidden):this.$tooltip.removeClass(this.UI_CLASSES.hidden),this.$tooltip.css({left:"".concat(o,"px"),top:"".concat(t,"px")})))},50))}get $tooltip(){return this.$tooltip_=this.$tooltip_||this.$player.find(".vac-cursor-tool-tip"),this.$tooltip_}}},{"./../lib/player_ui_component":40,"./../lib/utils":41,"./annotation":26,"./draggable_marker.js":31,"./player_button":33,"./selectable_shape.js":34}],31:[function(t,e,n){"use strict";var i=t("./marker");const a=t("./../lib/utils");e.exports=class extends i{constructor(t,e){super(t,e),this.range=e,this.templateName="draggable_marker",this.dragging=!1,this.rangePin=e.start,this.render(),this.$parent=this.$UI.markerWrap}bindMarkerEvents(){if(this.$el.on("mousedown.vac-marker",t=>{t.preventDefault(),this.dragging=!0,$(document).on("mousemove.vac-dmarker-".concat(this.playerId),a.throttle(this.onDrag.bind(this),250)),this.plugin.options.showControls||this.$player.find(".vac-cursor-tool-tip").addClass("vac-cursor-dragging").removeClass("vac-marker-hover")}),$(document).on("mouseup.vac-dmarker-".concat(this.playerId),t=>{this.dragging&&($(document).off("mousemove.vac-dmarker-".concat(this.playerId)),this.dragging=!1,this.plugin.options.showControls||this.$player.find(".vac-cursor-tool-tip").removeClass("vac-cursor-dragging").removeClass("vac-marker-hover"))}),!this.plugin.options.showControls){const t=this;t.$el.on("mouseenter.vac-cursor-tool-tip",()=>{t.$player.find(".vac-cursor-tool-tip").addClass("vac-marker-hover")}).on("mouseleave.vac-cursor-tool-tip",()=>{t.$player.find(".vac-cursor-tool-tip").removeClass("vac-marker-hover")})}}onDrag(t){t=this.percentValFromXpos(t.pageX),t=parseInt(this.duration*t);t>this.rangePin?this.range={start:this.rangePin,end:t}:this.range={start:t,end:this.rangePin},this.render(),this.plugin.fire("addingAnnotationDataChanged",{range:this.range})}percentValFromXpos(t){let e=Math.max(0,t-this.$parent.offset().left)/this.$parent.innerWidth();return e=(e=1<e?1:e)<0?0:e}teardown(){$(document).off("mousemove.vac-dmarker-".concat(this.playerId," mouseup.vac-dmarker-").concat(this.playerId)),this.$el.off("mouseenter.vac-cursor-tool-tip"),this.$el.off("mouseleave.vac-cursor-tool-tip"),this.$el.off("mousedown.vac-marker"),this.$el.remove()}scrubStart(t){t=this.range.start+t;this.currentTime=t,this.range.start=t,this.rangePin=t,this.teardown(),this.render(),this.plugin.fire("addingAnnotationDataChanged",{range:this.range})}}},{"./../lib/utils":41,"./marker":32}],32:[function(t,e,n){"use strict";var i=t("./../lib/player_ui_component");const a=t("./../lib/utils");e.exports=class extends i{constructor(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;super(t),this.range=e,this.comment=n,this.templateName="marker",this.$UI.markerWrap.length||this.$UI.timeline.append(this.renderTemplate("marker_wrap"))}setActive(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.$el.addClass(this.UI_CLASSES.active),t&&this.$el.addClass("vac-force-tooltip")}deactivate(){this.$el.removeClass("".concat(this.UI_CLASSES.active," vac-force-tooltip"))}render(){this.$UI.timeline.find('[data-marker-id="'.concat(this.componentId,'"]')).remove(),this.$el=$(this.renderTemplate(this.templateName,this.markerTemplateData)),this.$UI.markerWrap.append(this.$el),this.bindMarkerEvents()}bindMarkerEvents(){this.$el.on("mouseenter.vac-marker",()=>{this.$el.addClass("vac-hovering").closest(".vac-marker-wrap").addClass("vac-dim-all")}).on("mouseleave.vac-marker",()=>{this.$el.removeClass("vac-hovering").closest(".vac-marker-wrap").removeClass("vac-dim-all")})}get markerTemplateData(){var t=this.range.start/this.duration*100,e=this.range.end/this.duration*100-t,n=100-Math.floor(e)||100;return{left:"".concat(t,"%"),width:"".concat(e,"%"),zIndex:n,showTooltip:this.plugin.options.showMarkerShapeAndTooltips,tooltipRight:50<t,tooltipTime:a.humanTime(this.range),tooltipBody:this.comment?this.comment.body:null,rangeShow:!!this.range.end,id:this.componentId}}teardown(){this.$el.off("mouseenter.vac-marker").off("mouseleave.vac-marker").off("click.vac-marker"),super.teardown()}}},{"./../lib/player_ui_component":40,"./../lib/utils":41}],33:[function(t,e,n){"use strict";t=t("./../lib/player_ui_component");e.exports=class extends t{constructor(t){super(t),this.render(),this.initAPI(this,"PlayerButton"),this.$el.on("click.vac-player-button",()=>{this.plugin.toggleAnnotationMode()})}render(){const t=this.player.getChild("controlBar").addChild("button",{});t.controlText("Toggle Animations"),this.$el=$(t.el()),this.$el.addClass("vac-player-btn").find(".vjs-icon-placeholder").html(this.renderTemplate("player_button"))}updateNumAnnotations(){var t=this.plugin.annotationState.annotations.length;const e=this.$el.find("b");e.text(t),0<t?e.removeClass(this.UI_CLASSES.hidden):e.addClass(this.UI_CLASSES.hidden)}teardown(){this.$el.off("click.vac-player-button"),super.teardown()}}},{"./../lib/player_ui_component":40}],34:[function(t,e,n){"use strict";var i=t("./shape");const a=t("./../lib/utils");e.exports=class extends i{constructor(t){super(t),this.$parent=this.$player.find(".vac-video-cover-canvas"),this.bindEvents(),this.dragging=!1}bindEvents(){this.$parent.on("mousedown.vac-selectable-shape",t=>{if($(t.target).hasClass("vac-video-cover-canvas")&&!$(t.target).hasClass("vac-shape")){this.$el&&this.$el.remove();const e={x1:this.xCoordToPercent(t.pageX),y1:this.YCoordToPercent(t.pageY)};e.x2=e.x1,e.y2=e.y2,this.shape=e,this.originX=e.x1,this.originY=e.y1,this.render(),this.dragging=!0,this.dragMoved=!1,$(document).on("mousemove.vac-sshape-".concat(this.playerId),a.throttle(this.onDrag.bind(this),100)),this.plugin.options.showControls||this.$player.find(".vac-cursor-tool-tip").addClass("vac-cursor-dragging")}}),$(document).on("mouseup.vac-sshape-".concat(this.playerId),t=>{this.dragging&&($(document).off("mousemove.vac-sshape-".concat(this.playerId)),this.dragMoved||(this.shape=null,this.$el&&this.$el.remove()),this.dragging=!1,this.plugin.options.showControls||this.$player.find(".vac-cursor-tool-tip").removeClass("vac-cursor-dragging"))})}onDrag(t){this.dragMoved=!0;var e=this.xCoordToPercent(t.pageX),t=this.YCoordToPercent(t.pageY);e<this.originX?(this.shape.x2=this.originX,this.shape.x1=Math.max(0,e)):(this.shape.x2=Math.min(100,e),this.shape.x1=this.originX),t<this.originY?(this.shape.y2=this.originY,this.shape.y1=Math.max(0,t)):(this.shape.y2=Math.min(100,t),this.shape.y1=this.originY),this.setDimsFromShape(),this.plugin.fire("addingAnnotationDataChanged",{shape:this.shape})}xCoordToPercent(t){t-=this.$parent.offset().left;var e=this.$parent.innerWidth();return Number((t/e*100).toFixed(2))}YCoordToPercent(t){t-=this.$parent.offset().top;var e=this.$parent.innerHeight();return Number((t/e*100).toFixed(2))}teardown(){this.$parent.off("mousedown.vac-selectable-shape"),$(document).off("mouseup.vac-sshape-".concat(this.playerId," mousemove.vac-sshape-").concat(this.playerId)),super.teardown()}}},{"./../lib/utils":41,"./shape":35}],35:[function(t,e,n){"use strict";t=t("./../lib/player_ui_component");e.exports=class extends t{constructor(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;super(t),this.shape=e,this.$parent=this.$player}render(){this.shape&&(this.$el&&this.$el.remove(),this.$el=$("<div/>").addClass("vac-shape"),this.setDimsFromShape(),this.$parent.append(this.$el))}setDimsFromShape(){this.$el.css({left:"".concat(this.shape.x1,"%"),top:"".concat(this.shape.y1,"%"),width:"".concat(this.shape.x2-this.shape.x1,"%"),height:"".concat(this.shape.y2-this.shape.y1,"%")})}}},{"./../lib/player_ui_component":40}],36:[function(t,e,n){"use strict";if(window.videojs){var i=window.videojs;const a=t("./annotation_comments.js");i.registerPlugin("annotationComments",a(i))}},{"./annotation_comments.js":24}],37:[function(t,e,n){"use strict";const i=t("mitt"),a=t("./logger"),s={AnnotationState:{openAnnotation:(t,e)=>{e.openAnnotationById(t.detail.id)},closeActiveAnnotation:(t,e)=>{e.clearActive()},newAnnotation:(t,e)=>{e.createAndAddAnnotation(t.detail)},destroyAnnotation:(t,e)=>{e.destroyAnnotationById(t.detail.id)},newComment:(t,e)=>{const n=e.findAnnotation(t.detail.annotationId);n&&n.commentList.createComment(t.detail.body)},destroyComment:(t,e)=>{const n=e.findComment(t.detail.id);n&&n.commentList.destroyComment(t)}},Controls:{addingAnnotation:(t,e)=>{e.startAddNew()},cancelAddingAnnotation:(t,e)=>{e.cancelAddNew()}},PlayerButton:{onStateChanged:(t,e)=>{e.updateNumAnnotations()}},AnnotationComments:{toggleAnnotationMode:(t,e)=>{e.toggleAnnotationMode()}}};e.exports=class{constructor(){this.pluginReady=!1,this.pendingEvts=[],this.registeredListeners=[],this.eventRegistry=s,this.eventEmitter=i()}registerListenersFor(i,a){const t=this.eventRegistry[a];t&&Object.keys(t).forEach(e=>{if(!~this.registeredListeners.indexOf(e)){const n=t[e].bind(i);this.registerListener(e,t=>{this.pluginReady&&(this.logCallback(e,a,t),n(t,i))})}})}registerListener(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];this.eventEmitter.on(t,e),n&&this.registeredListeners.push(t)}unregisterListener(t){this.eventEmitter.off(t);t=this.registeredListeners.indexOf(t);this.registeredListeners.splice(t,1)}fire(t,e){this.pluginReady&&(a.log("evt-dispatch-FIRE",t,e),this.eventEmitter.emit(t,{detail:e}))}teardown(){this.registeredListeners.forEach(t=>{this.unregisterListener(t)})}logCallback(t,e,n){a.log("evt-dispatch-RECEIVE","".concat(t," (").concat(e,")"),n)}}},{"./logger":38,mitt:22}],38:[function(t,e,n){"use strict";function i(){return window.VAC_DEBUG}function a(t){return["::VAC::"].concat(t)}e.exports.log=function(){if(i()){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];console.log.apply(null,a(e))}},e.exports.error=function(){if(i()){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];console.error.apply(null,a(e))}},e.exports.info=function(){if(i()){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];console.info.apply(null,a(e))}}},{}],39:[function(t,e,n){"use strict";e.exports=class{constructor(t){this._player=t}get plugin(){return this.player.annotationComments()}get player(){return this._player}get duration(){return this.player.duration()}get currentTime(){return this.player.currentTime()}set currentTime(t){this.player.currentTime(t)}initAPI(t,e){this.plugin.eventDispatcher.registerListenersFor(t,e)}teardown(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this._player=null)}}},{}],40:[function(t,e,n){"use strict";const i=t("handlebars/runtime");var a=t("./player_component");const s=t("../compiled/templates")["templates"],r=t("./utils");e.exports=class extends a{get $UI(){return Object.freeze({commentsContainer:this.$player.find(".vac-comments-container"),controlElements:this.$player.find(".vac-control"),newCommentTextarea:this.$player.find(".vac-video-write-new textarea"),timeline:this.$player.find(".vjs-progress-control"),markerCursorHelpText:this.$player.find(".vac-cursor-help-text"),controlBar:this.$player.find(".vjs-control-bar"),markerWrap:this.$player.find(".vac-marker-wrap"),coverCanvas:this.$player.find(".vac-video-cover-canvas")})}get UI_CLASSES(){return Object.freeze({hidden:"vac-hidden",active:"vac-active"})}get $player(){return $(this.player.el())}get playerId(){return this.$player.attr("id")}get componentId(){return this.cid_=this.cid_||r.guid(),this.cid_}disablePlayingAndControl(){this.$player.addClass("vac-disable-play")}enablePlayingAndControl(){this.$player.removeClass("vac-disable-play")}renderTemplate(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.registerHandlebarsHelpers(),s[t](e)}registerHandlebarsHelpers(){"breaklines"in i.helpers||i.registerHelper("breaklines",t=>(t=(t=i.Utils.escapeExpression(t)).replace(/(\r\n|\n|\r)/gm,"<br>"),new i.SafeString(t)))}teardown(){this.$el&&this.$el.remove(),super.teardown()}}},{"../compiled/templates":25,"./player_component":39,"./utils":41,"handlebars/runtime":1}],41:[function(t,e,n){"use strict";function s(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function i(i){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach(function(t){var e,n;e=i,n=a[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})}return i}e.exports={cloneObject:t=>i({},t),throttle:(n,i,a)=>{let s,r,o,l=null,c=0;a=a||{};function u(){c=!1===a.leading?0:Date.now(),l=null,o=n.apply(s,r),l||(s=r=null)}return function(){var t=Date.now(),e=(c||!1!==a.leading||(c=t),i-(t-c));return s=this,r=arguments,e<=0||i<e?(l&&(clearTimeout(l),l=null),c=t,o=n.apply(s,r),l||(s=r=null)):l||!1===a.trailing||(l=setTimeout(u,e)),o}},parseIntObj:e=>(Object.keys(e).forEach(t=>{parseInt(e[t])&&(e[t]=parseInt(e[t]))}),e),humanTime:t=>{function e(t){var e=Math.floor(t/60),t=String(t%60);return"".concat(e,":").concat(1==t.length?"0":"").concat(t)}const n=[e(t.start)];return t.end&&n.push(e(t.end)),n.join("-")},guid:()=>{function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return"".concat(t()+t(),"-").concat(t(),"-").concat(t(),"-").concat(t(),"-").concat(t()).concat(t()).concat(t())},areaOfHiddenEl:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";const i=t.clone(),a={};return i.css({visibility:"hidden",display:"inline-block"}),i.removeClass(n),e.append(i),a.width=i.outerWidth(),a.height=i.outerHeight(),i.remove(),a},isWithinRange:(t,e,n)=>(e=e||t+1,t<=n&&n<=e),elementHeight:t=>{var e=window.getComputedStyle(t),t=t.offsetHeight,n=parseFloat(e.borderTopWidth);return t-parseFloat(e.borderBottomWidth)-n-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},elementOffset:t=>{t=t.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}}},{}]},{},[36]);